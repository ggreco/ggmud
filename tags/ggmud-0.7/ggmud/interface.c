/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>
#include <stdio.h>

#include <gdk/gdkkeysyms.h>
#include <gtk/gtk.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

#define GLADE_HOOKUP_OBJECT(component,widget,name) \
  g_object_set_data_full (G_OBJECT (component), name, \
    gtk_widget_ref (widget), (GDestroyNotify) gtk_widget_unref)

#define GLADE_HOOKUP_OBJECT_NO_REF(component,widget,name) \
  g_object_set_data (G_OBJECT (component), name, widget)

GtkWidget*
create_window_socks_settings (void)
{
  GtkWidget *window_socks_settings;
  GtkWidget *vbox1;
  GtkWidget *vbox2;
  GtkWidget *frame3;
  GtkWidget *table1;
  GtkWidget *radiobutton_v4;
  GSList *radiobutton_v4_group = NULL;
  GtkWidget *radiobutton_v5;
  GtkWidget *entry_socks_addr;
  GtkWidget *entry_socks_port;
  GtkWidget *label5;
  GtkWidget *label4;
  GtkWidget *label3;
  GtkWidget *frame_pwd_auth;
  GtkWidget *table_pwd_auth;
  GtkWidget *entry_socks_user;
  GtkWidget *entry_socks_password;
  GtkWidget *label6;
  GtkWidget *label7;
  GtkWidget *checkbutton_pwd_auth;
  GtkWidget *hseparator1;
  GtkWidget *hbuttonbox1;
  GtkWidget *button1;
  GtkWidget *button2;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  window_socks_settings = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (window_socks_settings), 8);
  gtk_window_set_title (GTK_WINDOW (window_socks_settings), "Socks protocol settings");
  gtk_window_set_position (GTK_WINDOW (window_socks_settings), GTK_WIN_POS_MOUSE);
  gtk_window_set_modal (GTK_WINDOW (window_socks_settings), TRUE);

  vbox1 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox1);
  gtk_container_add (GTK_CONTAINER (window_socks_settings), vbox1);

  vbox2 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox2);
  gtk_box_pack_start (GTK_BOX (vbox1), vbox2, TRUE, TRUE, 0);

  frame3 = gtk_frame_new (NULL);
  gtk_widget_show (frame3);
  gtk_box_pack_start (GTK_BOX (vbox2), frame3, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame3), 8);

  table1 = gtk_table_new (3, 2, FALSE);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (frame3), table1);
  gtk_container_set_border_width (GTK_CONTAINER (table1), 8);
  gtk_table_set_row_spacings (GTK_TABLE (table1), 8);
  gtk_table_set_col_spacings (GTK_TABLE (table1), 10);

  radiobutton_v4 = gtk_radio_button_new_with_mnemonic (NULL, "version 4");
  gtk_widget_show (radiobutton_v4);
  gtk_table_attach (GTK_TABLE (table1), radiobutton_v4, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, radiobutton_v4, "Socks version 4 protocol, authentication not supported.", NULL);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton_v4), radiobutton_v4_group);
  radiobutton_v4_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton_v4));

  radiobutton_v5 = gtk_radio_button_new_with_mnemonic (NULL, "version 5");
  gtk_widget_show (radiobutton_v5);
  gtk_table_attach (GTK_TABLE (table1), radiobutton_v5, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, radiobutton_v5, "Socks version 5 protocol, supports user/password authentication (preferred)", NULL);
  gtk_radio_button_set_group (GTK_RADIO_BUTTON (radiobutton_v5), radiobutton_v4_group);
  radiobutton_v4_group = gtk_radio_button_get_group (GTK_RADIO_BUTTON (radiobutton_v5));

  entry_socks_addr = gtk_entry_new ();
  gtk_widget_show (entry_socks_addr);
  gtk_table_attach (GTK_TABLE (table1), entry_socks_addr, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_socks_addr, "Name or IP in dot notation of the socks server", NULL);
  gtk_entry_set_max_length (GTK_ENTRY (entry_socks_addr), 63);

  entry_socks_port = gtk_entry_new ();
  gtk_widget_show (entry_socks_port);
  gtk_table_attach (GTK_TABLE (table1), entry_socks_port, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_socks_port, "Port number where the socks server is located", NULL);
  gtk_entry_set_max_length (GTK_ENTRY (entry_socks_port), 5);

  label5 = gtk_label_new ("Server Port (1/65535)");
  gtk_widget_show (label5);
  gtk_table_attach (GTK_TABLE (table1), label5, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label5), 1, 0.5);

  label4 = gtk_label_new ("Server address");
  gtk_widget_show (label4);
  gtk_table_attach (GTK_TABLE (table1), label4, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label4), 1, 0.5);

  label3 = gtk_label_new ("<b>Server settings</b>");
  gtk_widget_show (label3);
  gtk_frame_set_label_widget (GTK_FRAME (frame3), label3);
  gtk_label_set_use_markup (GTK_LABEL (label3), TRUE);

  frame_pwd_auth = gtk_frame_new (NULL);
  gtk_widget_show (frame_pwd_auth);
  gtk_box_pack_start (GTK_BOX (vbox2), frame_pwd_auth, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame_pwd_auth), 8);

  table_pwd_auth = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table_pwd_auth);
  gtk_container_add (GTK_CONTAINER (frame_pwd_auth), table_pwd_auth);
  gtk_table_set_row_spacings (GTK_TABLE (table_pwd_auth), 8);
  gtk_table_set_col_spacings (GTK_TABLE (table_pwd_auth), 8);

  entry_socks_user = gtk_entry_new ();
  gtk_widget_show (entry_socks_user);
  gtk_table_attach (GTK_TABLE (table_pwd_auth), entry_socks_user, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_socks_user, "Username to pass to the socks5 server", NULL);
  gtk_entry_set_max_length (GTK_ENTRY (entry_socks_user), 31);

  entry_socks_password = gtk_entry_new ();
  gtk_widget_show (entry_socks_password);
  gtk_table_attach (GTK_TABLE (table_pwd_auth), entry_socks_password, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_socks_password, "Password for the socks5 server", NULL);
  gtk_entry_set_max_length (GTK_ENTRY (entry_socks_password), 31);
  gtk_entry_set_visibility (GTK_ENTRY (entry_socks_password), FALSE);

  label6 = gtk_label_new ("Username");
  gtk_widget_show (label6);
  gtk_table_attach (GTK_TABLE (table_pwd_auth), label6, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label6), 1, 0.5);

  label7 = gtk_label_new ("Password");
  gtk_widget_show (label7);
  gtk_table_attach (GTK_TABLE (table_pwd_auth), label7, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label7), 1, 0.5);

  checkbutton_pwd_auth = gtk_check_button_new_with_mnemonic ("Password authentication");
  gtk_widget_show (checkbutton_pwd_auth);
  gtk_frame_set_label_widget (GTK_FRAME (frame_pwd_auth), checkbutton_pwd_auth);

  hseparator1 = gtk_hseparator_new ();
  gtk_widget_show (hseparator1);
  gtk_box_pack_start (GTK_BOX (vbox1), hseparator1, FALSE, FALSE, 4);

  hbuttonbox1 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox1);
  gtk_box_pack_start (GTK_BOX (vbox1), hbuttonbox1, FALSE, FALSE, 0);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox1), GTK_BUTTONBOX_SPREAD);

  button1 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button1);
  gtk_container_add (GTK_CONTAINER (hbuttonbox1), button1);
  GTK_WIDGET_SET_FLAGS (button1, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button1, "Confirm socks settings...", NULL);

  button2 = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (button2);
  gtk_container_add (GTK_CONTAINER (hbuttonbox1), button2);
  GTK_WIDGET_SET_FLAGS (button2, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button2, "Discard changes of this form...", NULL);

  g_signal_connect ((gpointer) window_socks_settings, "delete_event",
                    G_CALLBACK (on_socks_ko_clicked),
                    NULL);
  g_signal_connect ((gpointer) radiobutton_v4, "clicked",
                    G_CALLBACK (on_radiobutton_v4_clicked),
                    NULL);
  g_signal_connect ((gpointer) radiobutton_v5, "clicked",
                    G_CALLBACK (on_radiobutton_v5_clicked),
                    NULL);
  g_signal_connect ((gpointer) checkbutton_pwd_auth, "toggled",
                    G_CALLBACK (on_checkbutton_pwd_auth_toggled),
                    NULL);
  g_signal_connect ((gpointer) button1, "clicked",
                    G_CALLBACK (on_socks_ok_clicked),
                    NULL);
  g_signal_connect ((gpointer) button2, "clicked",
                    G_CALLBACK (on_socks_ko_clicked),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_socks_settings, window_socks_settings, "window_socks_settings");
  GLADE_HOOKUP_OBJECT (window_socks_settings, vbox1, "vbox1");
  GLADE_HOOKUP_OBJECT (window_socks_settings, vbox2, "vbox2");
  GLADE_HOOKUP_OBJECT (window_socks_settings, frame3, "frame3");
  GLADE_HOOKUP_OBJECT (window_socks_settings, table1, "table1");
  GLADE_HOOKUP_OBJECT (window_socks_settings, radiobutton_v4, "radiobutton_v4");
  GLADE_HOOKUP_OBJECT (window_socks_settings, radiobutton_v5, "radiobutton_v5");
  GLADE_HOOKUP_OBJECT (window_socks_settings, entry_socks_addr, "entry_socks_addr");
  GLADE_HOOKUP_OBJECT (window_socks_settings, entry_socks_port, "entry_socks_port");
  GLADE_HOOKUP_OBJECT (window_socks_settings, label5, "label5");
  GLADE_HOOKUP_OBJECT (window_socks_settings, label4, "label4");
  GLADE_HOOKUP_OBJECT (window_socks_settings, label3, "label3");
  GLADE_HOOKUP_OBJECT (window_socks_settings, frame_pwd_auth, "frame_pwd_auth");
  GLADE_HOOKUP_OBJECT (window_socks_settings, table_pwd_auth, "table_pwd_auth");
  GLADE_HOOKUP_OBJECT (window_socks_settings, entry_socks_user, "entry_socks_user");
  GLADE_HOOKUP_OBJECT (window_socks_settings, entry_socks_password, "entry_socks_password");
  GLADE_HOOKUP_OBJECT (window_socks_settings, label6, "label6");
  GLADE_HOOKUP_OBJECT (window_socks_settings, label7, "label7");
  GLADE_HOOKUP_OBJECT (window_socks_settings, checkbutton_pwd_auth, "checkbutton_pwd_auth");
  GLADE_HOOKUP_OBJECT (window_socks_settings, hseparator1, "hseparator1");
  GLADE_HOOKUP_OBJECT (window_socks_settings, hbuttonbox1, "hbuttonbox1");
  GLADE_HOOKUP_OBJECT (window_socks_settings, button1, "button1");
  GLADE_HOOKUP_OBJECT (window_socks_settings, button2, "button2");
  GLADE_HOOKUP_OBJECT_NO_REF (window_socks_settings, tooltips, "tooltips");

  return window_socks_settings;
}

GtkWidget*
create_window_preferences (void)
{
  GtkWidget *window_preferences;
  GtkWidget *vbox3;
  GtkWidget *hbox1;
  GtkWidget *vbox4;
  GtkWidget *frame7;
  GtkWidget *vbox8;
  GtkWidget *checkbutton_echo;
  GtkWidget *checkbutton_ww;
  GtkWidget *checkbutton_blink;
  GtkWidget *checkbutton_beep;
  GtkWidget *label11;
  GtkWidget *frame6;
  GtkWidget *vbox7;
  GtkWidget *checkbutton_keep;
  GtkWidget *checkbutton_toolbar;
  GtkWidget *checkbutton_statusbar;
  GtkWidget *checkbutton_macro;
  GtkWidget *label10;
  GtkWidget *vbox5;
  GtkWidget *frame4;
  GtkWidget *vbox6;
  GtkWidget *checkbutton_tickcounter;
  GtkWidget *hbox2;
  GtkWidget *label12;
  GtkObject *spinbutton_ticklength_adj;
  GtkWidget *spinbutton_ticklength;
  GtkWidget *label8;
  GtkWidget *frame5;
  GtkWidget *vbox9;
  GtkWidget *hbox5;
  GtkWidget *label14;
  GtkWidget *hbox6;
  GtkWidget *entry_lua_script;
  GtkWidget *button7;
  GtkWidget *image1;
  GtkWidget *hbox4;
  GtkWidget *label13;
  GtkObject *spinbutton_review_adj;
  GtkWidget *spinbutton_review;
  GtkWidget *checkbutton_save_vars;
  GtkWidget *hbox3;
  GtkWidget *checkbutton_use_proxy;
  GtkWidget *button_socks_settings;
  GtkWidget *checkbutton_wizard;
  GtkWidget *label9;
  GtkWidget *hseparator2;
  GtkWidget *hbuttonbox2;
  GtkWidget *button3;
  GtkWidget *button4;
  GtkWidget *button5;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  window_preferences = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (window_preferences), 4);
  gtk_window_set_title (GTK_WINDOW (window_preferences), "Preferences");
  gtk_window_set_position (GTK_WINDOW (window_preferences), GTK_WIN_POS_MOUSE);

  vbox3 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox3);
  gtk_container_add (GTK_CONTAINER (window_preferences), vbox3);

  hbox1 = gtk_hbox_new (FALSE, 8);
  gtk_widget_show (hbox1);
  gtk_box_pack_start (GTK_BOX (vbox3), hbox1, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbox1), 8);

  vbox4 = gtk_vbox_new (FALSE, 8);
  gtk_widget_show (vbox4);
  gtk_box_pack_start (GTK_BOX (hbox1), vbox4, TRUE, TRUE, 0);

  frame7 = gtk_frame_new (NULL);
  gtk_widget_show (frame7);
  gtk_box_pack_start (GTK_BOX (vbox4), frame7, TRUE, TRUE, 0);

  vbox8 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox8);
  gtk_container_add (GTK_CONTAINER (frame7), vbox8);
  gtk_container_set_border_width (GTK_CONTAINER (vbox8), 4);

  checkbutton_echo = gtk_check_button_new_with_mnemonic ("Echo Text");
  gtk_widget_show (checkbutton_echo);
  gtk_box_pack_start (GTK_BOX (vbox8), checkbutton_echo, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_echo, "Display in the output window the commands you send to the MUD.", NULL);

  checkbutton_ww = gtk_check_button_new_with_mnemonic ("Word Wrap");
  gtk_widget_show (checkbutton_ww);
  gtk_box_pack_start (GTK_BOX (vbox8), checkbutton_ww, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_ww, "If the window is too small wraps long lines to the following line.", NULL);

  checkbutton_blink = gtk_check_button_new_with_mnemonic ("Enable Text Blinking");
  gtk_widget_show (checkbutton_blink);
  gtk_box_pack_start (GTK_BOX (vbox8), checkbutton_blink, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_blink, "Enable blinking text in muds, may slow down scrolling on slower machines.", NULL);

  checkbutton_beep = gtk_check_button_new_with_mnemonic ("Emit Beeps");
  gtk_widget_show (checkbutton_beep);
  gtk_box_pack_start (GTK_BOX (vbox8), checkbutton_beep, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_beep, "Allow the output to generate system beeps.", NULL);

  label11 = gtk_label_new ("<b>Output</b>");
  gtk_widget_show (label11);
  gtk_frame_set_label_widget (GTK_FRAME (frame7), label11);
  gtk_label_set_use_markup (GTK_LABEL (label11), TRUE);

  frame6 = gtk_frame_new (NULL);
  gtk_widget_show (frame6);
  gtk_box_pack_start (GTK_BOX (vbox4), frame6, TRUE, TRUE, 0);

  vbox7 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox7);
  gtk_container_add (GTK_CONTAINER (frame6), vbox7);
  gtk_container_set_border_width (GTK_CONTAINER (vbox7), 4);

  checkbutton_keep = gtk_check_button_new_with_mnemonic ("Keep Text Entered");
  gtk_widget_show (checkbutton_keep);
  gtk_box_pack_start (GTK_BOX (vbox7), checkbutton_keep, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_keep, "After sending a command to the mud keep the text you sent in your input line.", NULL);

  checkbutton_toolbar = gtk_check_button_new_with_mnemonic ("Show Toolbar");
  gtk_widget_show (checkbutton_toolbar);
  gtk_box_pack_start (GTK_BOX (vbox7), checkbutton_toolbar, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_toolbar, "View the toolbar on the GGMud main window", NULL);

  checkbutton_statusbar = gtk_check_button_new_with_mnemonic ("Show Statusbar");
  gtk_widget_show (checkbutton_statusbar);
  gtk_box_pack_start (GTK_BOX (vbox7), checkbutton_statusbar, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_statusbar, "View the statusbar on the main GGMud window", NULL);

  checkbutton_macro = gtk_check_button_new_with_mnemonic ("Show Macro buttons");
  gtk_widget_show (checkbutton_macro);
  gtk_box_pack_start (GTK_BOX (vbox7), checkbutton_macro, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_macro, "View the statusbar on the main GGMud window", NULL);

  label10 = gtk_label_new ("<b>Interface</b>");
  gtk_widget_show (label10);
  gtk_frame_set_label_widget (GTK_FRAME (frame6), label10);
  gtk_label_set_use_markup (GTK_LABEL (label10), TRUE);

  vbox5 = gtk_vbox_new (FALSE, 8);
  gtk_widget_show (vbox5);
  gtk_box_pack_start (GTK_BOX (hbox1), vbox5, TRUE, TRUE, 0);

  frame4 = gtk_frame_new (NULL);
  gtk_widget_show (frame4);
  gtk_box_pack_start (GTK_BOX (vbox5), frame4, TRUE, TRUE, 0);

  vbox6 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox6);
  gtk_container_add (GTK_CONTAINER (frame4), vbox6);
  gtk_container_set_border_width (GTK_CONTAINER (vbox6), 4);

  checkbutton_tickcounter = gtk_check_button_new_with_mnemonic ("Use Tick Counter");
  gtk_widget_show (checkbutton_tickcounter);
  gtk_box_pack_start (GTK_BOX (vbox6), checkbutton_tickcounter, TRUE, FALSE, 4);
  gtk_tooltips_set_tip (tooltips, checkbutton_tickcounter, "Enable the use of the tick counter.", NULL);

  hbox2 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox2);
  gtk_box_pack_start (GTK_BOX (vbox6), hbox2, TRUE, FALSE, 0);

  label12 = gtk_label_new ("Tick length:");
  gtk_widget_show (label12);
  gtk_box_pack_start (GTK_BOX (hbox2), label12, FALSE, FALSE, 0);

  spinbutton_ticklength_adj = gtk_adjustment_new (74, 0, 500, 1, 10, 10);
  spinbutton_ticklength = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_ticklength_adj), 1, 0);
  gtk_widget_show (spinbutton_ticklength);
  gtk_box_pack_start (GTK_BOX (hbox2), spinbutton_ticklength, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, spinbutton_ticklength, "Length of the tick in seconds", NULL);

  label8 = gtk_label_new ("<b>Tick counter</b>");
  gtk_widget_show (label8);
  gtk_frame_set_label_widget (GTK_FRAME (frame4), label8);
  gtk_label_set_use_markup (GTK_LABEL (label8), TRUE);

  frame5 = gtk_frame_new (NULL);
  gtk_widget_show (frame5);
  gtk_box_pack_start (GTK_BOX (vbox5), frame5, TRUE, TRUE, 0);

  vbox9 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox9);
  gtk_container_add (GTK_CONTAINER (frame5), vbox9);
  gtk_container_set_border_width (GTK_CONTAINER (vbox9), 4);

  hbox5 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox5);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox5, TRUE, FALSE, 0);

  label14 = gtk_label_new ("<b>LUA</b> startup:");
  gtk_widget_show (label14);
  gtk_box_pack_start (GTK_BOX (hbox5), label14, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label14), TRUE);

  hbox6 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox6);
  gtk_box_pack_start (GTK_BOX (hbox5), hbox6, TRUE, TRUE, 0);

  entry_lua_script = gtk_entry_new ();
  gtk_widget_show (entry_lua_script);
  gtk_box_pack_start (GTK_BOX (hbox6), entry_lua_script, TRUE, TRUE, 0);

  button7 = gtk_button_new ();
  gtk_widget_show (button7);
  gtk_box_pack_start (GTK_BOX (hbox6), button7, FALSE, FALSE, 0);
  gtk_button_set_relief (GTK_BUTTON (button7), GTK_RELIEF_HALF);

  image1 = gtk_image_new_from_stock ("gtk-open", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image1);
  gtk_container_add (GTK_CONTAINER (button7), image1);

  hbox4 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox4);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox4, TRUE, FALSE, 0);

  label13 = gtk_label_new ("Review buffer lines:");
  gtk_widget_show (label13);
  gtk_box_pack_start (GTK_BOX (hbox4), label13, FALSE, FALSE, 0);

  spinbutton_review_adj = gtk_adjustment_new (10000, 0, 1000000, 10, 1000, 1000);
  spinbutton_review = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_review_adj), 1, 0);
  gtk_widget_show (spinbutton_review);
  gtk_box_pack_start (GTK_BOX (hbox4), spinbutton_review, TRUE, TRUE, 0);
  gtk_tooltips_set_tip (tooltips, spinbutton_review, "Number of lines to be kept in the main window buffer", NULL);

  checkbutton_save_vars = gtk_check_button_new_with_mnemonic ("Save Variables");
  gtk_widget_show (checkbutton_save_vars);
  gtk_box_pack_start (GTK_BOX (vbox9), checkbutton_save_vars, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_save_vars, "Save variable values when you quit the program.", NULL);

  hbox3 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox3);
  gtk_box_pack_start (GTK_BOX (vbox9), hbox3, TRUE, FALSE, 0);

  checkbutton_use_proxy = gtk_check_button_new_with_mnemonic ("Use a SOCKS proxy");
  gtk_widget_show (checkbutton_use_proxy);
  gtk_box_pack_start (GTK_BOX (hbox3), checkbutton_use_proxy, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_use_proxy, "Connect through a proxy.", NULL);

  button_socks_settings = gtk_button_new_with_mnemonic ("Settings");
  gtk_widget_show (button_socks_settings);
  gtk_box_pack_start (GTK_BOX (hbox3), button_socks_settings, TRUE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, button_socks_settings, "Edit socks proxy settings", NULL);
  gtk_button_set_relief (GTK_BUTTON (button_socks_settings), GTK_RELIEF_HALF);

  checkbutton_wizard = gtk_check_button_new_with_mnemonic ("Open Wizard at Startup");
  gtk_widget_show (checkbutton_wizard);
  gtk_box_pack_start (GTK_BOX (vbox9), checkbutton_wizard, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, checkbutton_wizard, "Open the Connection Wizard every time you start GGMud.", NULL);

  label9 = gtk_label_new ("<b>Other options</b>");
  gtk_widget_show (label9);
  gtk_frame_set_label_widget (GTK_FRAME (frame5), label9);
  gtk_label_set_use_markup (GTK_LABEL (label9), TRUE);

  hseparator2 = gtk_hseparator_new ();
  gtk_widget_show (hseparator2);
  gtk_box_pack_start (GTK_BOX (vbox3), hseparator2, FALSE, FALSE, 4);

  hbuttonbox2 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox2);
  gtk_box_pack_start (GTK_BOX (vbox3), hbuttonbox2, FALSE, FALSE, 0);

  button3 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button3);
  gtk_container_add (GTK_CONTAINER (hbuttonbox2), button3);
  GTK_WIDGET_SET_FLAGS (button3, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button3, "Use settings", NULL);

  button4 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button4);
  gtk_container_add (GTK_CONTAINER (hbuttonbox2), button4);
  GTK_WIDGET_SET_FLAGS (button4, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button4, "Save and use settings", NULL);

  button5 = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (button5);
  gtk_container_add (GTK_CONTAINER (hbuttonbox2), button5);
  GTK_WIDGET_SET_FLAGS (button5, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button5, "Restore original settings.", NULL);

  g_signal_connect ((gpointer) checkbutton_tickcounter, "toggled",
                    G_CALLBACK (on_checkbutton_tickcounter_toggled),
                    NULL);
  g_signal_connect ((gpointer) button7, "clicked",
                    G_CALLBACK (on_button_browse_lua_clicked),
                    NULL);
  g_signal_connect ((gpointer) checkbutton_use_proxy, "toggled",
                    G_CALLBACK (on_checkbutton_use_proxy_toggled),
                    NULL);
  g_signal_connect ((gpointer) button_socks_settings, "clicked",
                    G_CALLBACK (on_button_proxy_settings_clicked),
                    NULL);
  g_signal_connect ((gpointer) button3, "clicked",
                    G_CALLBACK (on_button_preferences_ok_clicked),
                    NULL);
  g_signal_connect ((gpointer) button4, "clicked",
                    G_CALLBACK (on_button_preferences_save_clicked),
                    NULL);
  g_signal_connect ((gpointer) button5, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_preferences, window_preferences, "window_preferences");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox3, "vbox3");
  GLADE_HOOKUP_OBJECT (window_preferences, hbox1, "hbox1");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox4, "vbox4");
  GLADE_HOOKUP_OBJECT (window_preferences, frame7, "frame7");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox8, "vbox8");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_echo, "checkbutton_echo");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_ww, "checkbutton_ww");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_blink, "checkbutton_blink");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_beep, "checkbutton_beep");
  GLADE_HOOKUP_OBJECT (window_preferences, label11, "label11");
  GLADE_HOOKUP_OBJECT (window_preferences, frame6, "frame6");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox7, "vbox7");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_keep, "checkbutton_keep");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_toolbar, "checkbutton_toolbar");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_statusbar, "checkbutton_statusbar");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_macro, "checkbutton_macro");
  GLADE_HOOKUP_OBJECT (window_preferences, label10, "label10");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox5, "vbox5");
  GLADE_HOOKUP_OBJECT (window_preferences, frame4, "frame4");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox6, "vbox6");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_tickcounter, "checkbutton_tickcounter");
  GLADE_HOOKUP_OBJECT (window_preferences, hbox2, "hbox2");
  GLADE_HOOKUP_OBJECT (window_preferences, label12, "label12");
  GLADE_HOOKUP_OBJECT (window_preferences, spinbutton_ticklength, "spinbutton_ticklength");
  GLADE_HOOKUP_OBJECT (window_preferences, label8, "label8");
  GLADE_HOOKUP_OBJECT (window_preferences, frame5, "frame5");
  GLADE_HOOKUP_OBJECT (window_preferences, vbox9, "vbox9");
  GLADE_HOOKUP_OBJECT (window_preferences, hbox5, "hbox5");
  GLADE_HOOKUP_OBJECT (window_preferences, label14, "label14");
  GLADE_HOOKUP_OBJECT (window_preferences, hbox6, "hbox6");
  GLADE_HOOKUP_OBJECT (window_preferences, entry_lua_script, "entry_lua_script");
  GLADE_HOOKUP_OBJECT (window_preferences, button7, "button7");
  GLADE_HOOKUP_OBJECT (window_preferences, image1, "image1");
  GLADE_HOOKUP_OBJECT (window_preferences, hbox4, "hbox4");
  GLADE_HOOKUP_OBJECT (window_preferences, label13, "label13");
  GLADE_HOOKUP_OBJECT (window_preferences, spinbutton_review, "spinbutton_review");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_save_vars, "checkbutton_save_vars");
  GLADE_HOOKUP_OBJECT (window_preferences, hbox3, "hbox3");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_use_proxy, "checkbutton_use_proxy");
  GLADE_HOOKUP_OBJECT (window_preferences, button_socks_settings, "button_socks_settings");
  GLADE_HOOKUP_OBJECT (window_preferences, checkbutton_wizard, "checkbutton_wizard");
  GLADE_HOOKUP_OBJECT (window_preferences, label9, "label9");
  GLADE_HOOKUP_OBJECT (window_preferences, hseparator2, "hseparator2");
  GLADE_HOOKUP_OBJECT (window_preferences, hbuttonbox2, "hbuttonbox2");
  GLADE_HOOKUP_OBJECT (window_preferences, button3, "button3");
  GLADE_HOOKUP_OBJECT (window_preferences, button4, "button4");
  GLADE_HOOKUP_OBJECT (window_preferences, button5, "button5");
  GLADE_HOOKUP_OBJECT_NO_REF (window_preferences, tooltips, "tooltips");

  return window_preferences;
}

GtkWidget*
create_window_wizard (void)
{
  GtkWidget *window_wizard;
  GtkWidget *vbox10;
  GtkWidget *hbox7;
  GtkWidget *scrolledwindow1;
  GtkWidget *clist_conns;
  GtkWidget *hbox8;
  GtkWidget *image2;
  GtkWidget *label15;
  GtkWidget *frame8;
  GtkWidget *vbox11;
  GtkWidget *table3;
  GtkWidget *label21;
  GtkWidget *label20;
  GtkWidget *label19;
  GtkWidget *entry_name;
  GtkWidget *entry_host;
  GtkWidget *entry_port;
  GtkWidget *frame9;
  GtkWidget *table_autologin;
  GtkWidget *label17;
  GtkWidget *label18;
  GtkWidget *entry_char_name;
  GtkWidget *entry_pwd;
  GtkWidget *checkbutton_autologin;
  GtkWidget *hbuttonbox4;
  GtkWidget *button11;
  GtkWidget *button_update;
  GtkWidget *button_delete;
  GtkWidget *label16;
  GtkWidget *hseparator3;
  GtkWidget *hbuttonbox3;
  GtkWidget *button_ok;
  GtkWidget *button9;
  GtkWidget *button10;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  window_wizard = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (window_wizard), 4);
  gtk_window_set_title (GTK_WINDOW (window_wizard), "Connection Wizard");
  gtk_window_set_position (GTK_WINDOW (window_wizard), GTK_WIN_POS_CENTER);

  vbox10 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox10);
  gtk_container_add (GTK_CONTAINER (window_wizard), vbox10);

  hbox7 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox7);
  gtk_box_pack_start (GTK_BOX (vbox10), hbox7, TRUE, TRUE, 0);

  scrolledwindow1 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow1);
  gtk_box_pack_start (GTK_BOX (hbox7), scrolledwindow1, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow1), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);

  clist_conns = gtk_clist_new (1);
  gtk_widget_show (clist_conns);
  gtk_container_add (GTK_CONTAINER (scrolledwindow1), clist_conns);
  gtk_tooltips_set_tip (tooltips, clist_conns, "Select a connection from this list and click OK to connect", NULL);
  gtk_clist_set_column_width (GTK_CLIST (clist_conns), 0, 151);
  gtk_clist_column_titles_show (GTK_CLIST (clist_conns));

  hbox8 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox8);
  gtk_clist_set_column_widget (GTK_CLIST (clist_conns), 0, hbox8);

  image2 = gtk_image_new_from_stock ("gtk-justify-fill", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image2);
  gtk_box_pack_start (GTK_BOX (hbox8), image2, FALSE, FALSE, 0);

  label15 = gtk_label_new ("<b>Connection name</b>");
  gtk_widget_show (label15);
  gtk_box_pack_start (GTK_BOX (hbox8), label15, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label15), TRUE);
  gtk_misc_set_padding (GTK_MISC (label15), 4, 0);

  frame8 = gtk_frame_new (NULL);
  gtk_widget_show (frame8);
  gtk_box_pack_start (GTK_BOX (hbox7), frame8, TRUE, TRUE, 0);

  vbox11 = gtk_vbox_new (FALSE, 2);
  gtk_widget_show (vbox11);
  gtk_container_add (GTK_CONTAINER (frame8), vbox11);
  gtk_container_set_border_width (GTK_CONTAINER (vbox11), 2);

  table3 = gtk_table_new (3, 2, FALSE);
  gtk_widget_show (table3);
  gtk_box_pack_start (GTK_BOX (vbox11), table3, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (table3), 8);
  gtk_table_set_row_spacings (GTK_TABLE (table3), 8);
  gtk_table_set_col_spacings (GTK_TABLE (table3), 8);

  label21 = gtk_label_new ("Port:");
  gtk_widget_show (label21);
  gtk_table_attach (GTK_TABLE (table3), label21, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label21), 1, 0.5);

  label20 = gtk_label_new ("Host:");
  gtk_widget_show (label20);
  gtk_table_attach (GTK_TABLE (table3), label20, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label20), 1, 0.5);

  label19 = gtk_label_new ("Name:");
  gtk_widget_show (label19);
  gtk_table_attach (GTK_TABLE (table3), label19, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label19), 1, 0.5);

  entry_name = gtk_entry_new ();
  gtk_widget_show (entry_name);
  gtk_table_attach (GTK_TABLE (table3), entry_name, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_name, "This is the name used in this wizard to identify these connection datas (host, port and optionally name/pwd)", NULL);

  entry_host = gtk_entry_new ();
  gtk_widget_show (entry_host);
  gtk_table_attach (GTK_TABLE (table3), entry_host, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_host, "This is the hostname or the IP address the MUD is located on.", NULL);

  entry_port = gtk_entry_new ();
  gtk_widget_show (entry_port);
  gtk_table_attach (GTK_TABLE (table3), entry_port, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, entry_port, "This is the port to connect to on the specified hostname to connect to the MUD service.", NULL);

  frame9 = gtk_frame_new (NULL);
  gtk_widget_show (frame9);
  gtk_box_pack_start (GTK_BOX (vbox11), frame9, TRUE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame9), 4);

  table_autologin = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table_autologin);
  gtk_container_add (GTK_CONTAINER (frame9), table_autologin);
  gtk_container_set_border_width (GTK_CONTAINER (table_autologin), 8);
  gtk_table_set_row_spacings (GTK_TABLE (table_autologin), 8);
  gtk_table_set_col_spacings (GTK_TABLE (table_autologin), 8);

  label17 = gtk_label_new ("Character name:");
  gtk_widget_show (label17);
  gtk_table_attach (GTK_TABLE (table_autologin), label17, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label17), 0, 0.5);

  label18 = gtk_label_new ("Password:");
  gtk_widget_show (label18);
  gtk_table_attach (GTK_TABLE (table_autologin), label18, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label18), 0, 0.5);

  entry_char_name = gtk_entry_new ();
  gtk_widget_show (entry_char_name);
  gtk_table_attach (GTK_TABLE (table_autologin), entry_char_name, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  entry_pwd = gtk_entry_new ();
  gtk_widget_show (entry_pwd);
  gtk_table_attach (GTK_TABLE (table_autologin), entry_pwd, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_visibility (GTK_ENTRY (entry_pwd), FALSE);

  checkbutton_autologin = gtk_check_button_new_with_mnemonic ("enable autologin");
  gtk_widget_show (checkbutton_autologin);
  gtk_frame_set_label_widget (GTK_FRAME (frame9), checkbutton_autologin);
  gtk_container_set_border_width (GTK_CONTAINER (checkbutton_autologin), 2);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (checkbutton_autologin), TRUE);

  hbuttonbox4 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox4);
  gtk_box_pack_start (GTK_BOX (vbox11), hbuttonbox4, TRUE, TRUE, 0);

  button11 = gtk_button_new_from_stock ("gtk-add");
  gtk_widget_show (button11);
  gtk_container_add (GTK_CONTAINER (hbuttonbox4), button11);
  GTK_WIDGET_SET_FLAGS (button11, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button11, "Use this button to add a new connection to the Wizard connection list.", NULL);

  button_update = gtk_button_new_from_stock ("gtk-apply");
  gtk_widget_show (button_update);
  gtk_container_add (GTK_CONTAINER (hbuttonbox4), button_update);
  GTK_WIDGET_SET_FLAGS (button_update, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button_update, "Use this button to apply changes to an existing connection", NULL);

  button_delete = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (button_delete);
  gtk_container_add (GTK_CONTAINER (hbuttonbox4), button_delete);
  GTK_WIDGET_SET_FLAGS (button_delete, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button_delete, "Use this option to remove from the connection list the actually selected connection(s).", NULL);

  label16 = gtk_label_new ("<b>Details</b>");
  gtk_widget_show (label16);
  gtk_frame_set_label_widget (GTK_FRAME (frame8), label16);
  gtk_label_set_use_markup (GTK_LABEL (label16), TRUE);

  hseparator3 = gtk_hseparator_new ();
  gtk_widget_show (hseparator3);
  gtk_box_pack_start (GTK_BOX (vbox10), hseparator3, FALSE, FALSE, 4);

  hbuttonbox3 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox3);
  gtk_box_pack_start (GTK_BOX (vbox10), hbuttonbox3, FALSE, FALSE, 0);

  button_ok = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button_ok);
  gtk_container_add (GTK_CONTAINER (hbuttonbox3), button_ok);
  GTK_WIDGET_SET_FLAGS (button_ok, GTK_CAN_DEFAULT);

  button9 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button9);
  gtk_container_add (GTK_CONTAINER (hbuttonbox3), button9);
  GTK_WIDGET_SET_FLAGS (button9, GTK_CAN_DEFAULT);

  button10 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button10);
  gtk_container_add (GTK_CONTAINER (hbuttonbox3), button10);
  GTK_WIDGET_SET_FLAGS (button10, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) checkbutton_autologin, "toggled",
                    G_CALLBACK (on_checkbutton_autologin_toggled),
                    NULL);
  g_signal_connect ((gpointer) button11, "clicked",
                    G_CALLBACK (on_button_wiz_add_clicked),
                    NULL);
  g_signal_connect ((gpointer) button_update, "clicked",
                    G_CALLBACK (on_button_wiz_apply_clicked),
                    NULL);
  g_signal_connect ((gpointer) button_delete, "clicked",
                    G_CALLBACK (on_button_wiz_delete_clicked),
                    NULL);
  g_signal_connect ((gpointer) button_ok, "clicked",
                    G_CALLBACK (on_wiz_ok_clicked),
                    NULL);
  g_signal_connect ((gpointer) button9, "clicked",
                    G_CALLBACK (on_wiz_save__clicked),
                    NULL);
  g_signal_connect ((gpointer) button10, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_wizard, window_wizard, "window_wizard");
  GLADE_HOOKUP_OBJECT (window_wizard, vbox10, "vbox10");
  GLADE_HOOKUP_OBJECT (window_wizard, hbox7, "hbox7");
  GLADE_HOOKUP_OBJECT (window_wizard, scrolledwindow1, "scrolledwindow1");
  GLADE_HOOKUP_OBJECT (window_wizard, clist_conns, "clist_conns");
  GLADE_HOOKUP_OBJECT (window_wizard, hbox8, "hbox8");
  GLADE_HOOKUP_OBJECT (window_wizard, image2, "image2");
  GLADE_HOOKUP_OBJECT (window_wizard, label15, "label15");
  GLADE_HOOKUP_OBJECT (window_wizard, frame8, "frame8");
  GLADE_HOOKUP_OBJECT (window_wizard, vbox11, "vbox11");
  GLADE_HOOKUP_OBJECT (window_wizard, table3, "table3");
  GLADE_HOOKUP_OBJECT (window_wizard, label21, "label21");
  GLADE_HOOKUP_OBJECT (window_wizard, label20, "label20");
  GLADE_HOOKUP_OBJECT (window_wizard, label19, "label19");
  GLADE_HOOKUP_OBJECT (window_wizard, entry_name, "entry_name");
  GLADE_HOOKUP_OBJECT (window_wizard, entry_host, "entry_host");
  GLADE_HOOKUP_OBJECT (window_wizard, entry_port, "entry_port");
  GLADE_HOOKUP_OBJECT (window_wizard, frame9, "frame9");
  GLADE_HOOKUP_OBJECT (window_wizard, table_autologin, "table_autologin");
  GLADE_HOOKUP_OBJECT (window_wizard, label17, "label17");
  GLADE_HOOKUP_OBJECT (window_wizard, label18, "label18");
  GLADE_HOOKUP_OBJECT (window_wizard, entry_char_name, "entry_char_name");
  GLADE_HOOKUP_OBJECT (window_wizard, entry_pwd, "entry_pwd");
  GLADE_HOOKUP_OBJECT (window_wizard, checkbutton_autologin, "checkbutton_autologin");
  GLADE_HOOKUP_OBJECT (window_wizard, hbuttonbox4, "hbuttonbox4");
  GLADE_HOOKUP_OBJECT (window_wizard, button11, "button11");
  GLADE_HOOKUP_OBJECT (window_wizard, button_update, "button_update");
  GLADE_HOOKUP_OBJECT (window_wizard, button_delete, "button_delete");
  GLADE_HOOKUP_OBJECT (window_wizard, label16, "label16");
  GLADE_HOOKUP_OBJECT (window_wizard, hseparator3, "hseparator3");
  GLADE_HOOKUP_OBJECT (window_wizard, hbuttonbox3, "hbuttonbox3");
  GLADE_HOOKUP_OBJECT (window_wizard, button_ok, "button_ok");
  GLADE_HOOKUP_OBJECT (window_wizard, button9, "button9");
  GLADE_HOOKUP_OBJECT (window_wizard, button10, "button10");
  GLADE_HOOKUP_OBJECT_NO_REF (window_wizard, tooltips, "tooltips");

  return window_wizard;
}

GtkWidget*
create_window_mccp_status (void)
{
  GtkWidget *window_mccp_status;
  GtkWidget *vbox12;
  GtkWidget *vbox13;
  GtkWidget *hbox9;
  GtkWidget *image_mccp_status;
  GtkWidget *label_mccp_status;
  GtkWidget *hbox10;
  GtkWidget *frame10;
  GtkWidget *label_comp;
  GtkWidget *label23;
  GtkWidget *frame11;
  GtkWidget *label_uncomp;
  GtkWidget *label24;
  GtkWidget *hseparator4;
  GtkWidget *button12;

  window_mccp_status = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (window_mccp_status), 8);
  gtk_window_set_title (GTK_WINDOW (window_mccp_status), "MCCP status");
  gtk_window_set_position (GTK_WINDOW (window_mccp_status), GTK_WIN_POS_MOUSE);

  vbox12 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox12);
  gtk_container_add (GTK_CONTAINER (window_mccp_status), vbox12);

  vbox13 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox13);
  gtk_box_pack_start (GTK_BOX (vbox12), vbox13, TRUE, TRUE, 0);

  hbox9 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox9);
  gtk_box_pack_start (GTK_BOX (vbox13), hbox9, TRUE, TRUE, 0);

  image_mccp_status = create_pixmap (window_mccp_status, NULL);
  gtk_widget_show (image_mccp_status);
  gtk_box_pack_start (GTK_BOX (hbox9), image_mccp_status, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (image_mccp_status), 4, 4);

  label_mccp_status = gtk_label_new ("<b>todo</b>");
  gtk_widget_show (label_mccp_status);
  gtk_box_pack_start (GTK_BOX (hbox9), label_mccp_status, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label_mccp_status), TRUE);
  gtk_misc_set_padding (GTK_MISC (label_mccp_status), 8, 8);

  hbox10 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox10);
  gtk_box_pack_start (GTK_BOX (vbox13), hbox10, TRUE, TRUE, 0);

  frame10 = gtk_frame_new (NULL);
  gtk_widget_show (frame10);
  gtk_box_pack_start (GTK_BOX (hbox10), frame10, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame10), 8);

  label_comp = gtk_label_new (".");
  gtk_widget_show (label_comp);
  gtk_container_add (GTK_CONTAINER (frame10), label_comp);
  gtk_label_set_use_markup (GTK_LABEL (label_comp), TRUE);
  gtk_misc_set_padding (GTK_MISC (label_comp), 8, 8);

  label23 = gtk_label_new ("<b>Bytes received</b>");
  gtk_widget_show (label23);
  gtk_frame_set_label_widget (GTK_FRAME (frame10), label23);
  gtk_label_set_use_markup (GTK_LABEL (label23), TRUE);

  frame11 = gtk_frame_new (NULL);
  gtk_widget_show (frame11);
  gtk_box_pack_start (GTK_BOX (hbox10), frame11, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame11), 8);

  label_uncomp = gtk_label_new (".");
  gtk_widget_show (label_uncomp);
  gtk_container_add (GTK_CONTAINER (frame11), label_uncomp);
  gtk_label_set_use_markup (GTK_LABEL (label_uncomp), TRUE);
  gtk_misc_set_padding (GTK_MISC (label_uncomp), 8, 8);

  label24 = gtk_label_new ("<b>Bytes decompressed</b>");
  gtk_widget_show (label24);
  gtk_frame_set_label_widget (GTK_FRAME (frame11), label24);
  gtk_label_set_use_markup (GTK_LABEL (label24), TRUE);

  hseparator4 = gtk_hseparator_new ();
  gtk_widget_show (hseparator4);
  gtk_box_pack_start (GTK_BOX (vbox12), hseparator4, FALSE, FALSE, 4);

  button12 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button12);
  gtk_box_pack_start (GTK_BOX (vbox12), button12, FALSE, FALSE, 0);

  g_signal_connect ((gpointer) button12, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_mccp_status, window_mccp_status, "window_mccp_status");
  GLADE_HOOKUP_OBJECT (window_mccp_status, vbox12, "vbox12");
  GLADE_HOOKUP_OBJECT (window_mccp_status, vbox13, "vbox13");
  GLADE_HOOKUP_OBJECT (window_mccp_status, hbox9, "hbox9");
  GLADE_HOOKUP_OBJECT (window_mccp_status, image_mccp_status, "image_mccp_status");
  GLADE_HOOKUP_OBJECT (window_mccp_status, label_mccp_status, "label_mccp_status");
  GLADE_HOOKUP_OBJECT (window_mccp_status, hbox10, "hbox10");
  GLADE_HOOKUP_OBJECT (window_mccp_status, frame10, "frame10");
  GLADE_HOOKUP_OBJECT (window_mccp_status, label_comp, "label_comp");
  GLADE_HOOKUP_OBJECT (window_mccp_status, label23, "label23");
  GLADE_HOOKUP_OBJECT (window_mccp_status, frame11, "frame11");
  GLADE_HOOKUP_OBJECT (window_mccp_status, label_uncomp, "label_uncomp");
  GLADE_HOOKUP_OBJECT (window_mccp_status, label24, "label24");
  GLADE_HOOKUP_OBJECT (window_mccp_status, hseparator4, "hseparator4");
  GLADE_HOOKUP_OBJECT (window_mccp_status, button12, "button12");

  return window_mccp_status;
}

GtkWidget*
create_window_macro_editor (void)
{
  GtkWidget *window_macro_editor;
  GtkWidget *vbox14;
  GtkWidget *hbox11;
  GtkWidget *frame12;
  GtkWidget *scrolledwindow2;
  GtkWidget *clist_macros;
  GtkWidget *label30;
  GtkWidget *label31;
  GtkWidget *label25;
  GtkWidget *vbox15;
  GtkWidget *frame13;
  GtkWidget *hbox12;
  GtkWidget *entry_shortcut;
  GtkWidget *button_capture;
  GtkWidget *alignment1;
  GtkWidget *hbox13;
  GtkWidget *image3;
  GtkWidget *label27;
  GtkWidget *label26;
  GtkWidget *frame14;
  GtkWidget *hbox14;
  GtkWidget *entry_cmd;
  GtkWidget *label28;
  GtkWidget *hbox15;
  GtkWidget *button_add;
  GtkWidget *button_mod;
  GtkWidget *alignment2;
  GtkWidget *hbox16;
  GtkWidget *image4;
  GtkWidget *label29;
  GtkWidget *button_del;
  GtkWidget *hseparator5;
  GtkWidget *hbuttonbox5;
  GtkWidget *button13;
  GtkWidget *button14;

  window_macro_editor = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (window_macro_editor), 4);
  gtk_window_set_title (GTK_WINDOW (window_macro_editor), "Macro Editor");
  gtk_window_set_position (GTK_WINDOW (window_macro_editor), GTK_WIN_POS_CENTER);
  gtk_window_set_default_size (GTK_WINDOW (window_macro_editor), 640, 480);

  vbox14 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox14);
  gtk_container_add (GTK_CONTAINER (window_macro_editor), vbox14);

  hbox11 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox11);
  gtk_box_pack_start (GTK_BOX (vbox14), hbox11, TRUE, TRUE, 0);

  frame12 = gtk_frame_new (NULL);
  gtk_widget_show (frame12);
  gtk_box_pack_start (GTK_BOX (hbox11), frame12, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame12), 4);

  scrolledwindow2 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow2);
  gtk_container_add (GTK_CONTAINER (frame12), scrolledwindow2);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow2), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  clist_macros = gtk_clist_new (2);
  gtk_widget_show (clist_macros);
  gtk_container_add (GTK_CONTAINER (scrolledwindow2), clist_macros);
  gtk_container_set_border_width (GTK_CONTAINER (clist_macros), 4);
  gtk_clist_set_column_width (GTK_CLIST (clist_macros), 0, 146);
  gtk_clist_set_column_width (GTK_CLIST (clist_macros), 1, 80);
  gtk_clist_column_titles_show (GTK_CLIST (clist_macros));

  label30 = gtk_label_new ("Shortcut");
  gtk_widget_show (label30);
  gtk_clist_set_column_widget (GTK_CLIST (clist_macros), 0, label30);

  label31 = gtk_label_new ("Commands");
  gtk_widget_show (label31);
  gtk_clist_set_column_widget (GTK_CLIST (clist_macros), 1, label31);

  label25 = gtk_label_new ("<b>Macro List</b>");
  gtk_widget_show (label25);
  gtk_frame_set_label_widget (GTK_FRAME (frame12), label25);
  gtk_label_set_use_markup (GTK_LABEL (label25), TRUE);

  vbox15 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox15);
  gtk_box_pack_start (GTK_BOX (hbox11), vbox15, FALSE, FALSE, 0);

  frame13 = gtk_frame_new (NULL);
  gtk_widget_show (frame13);
  gtk_box_pack_start (GTK_BOX (vbox15), frame13, TRUE, FALSE, 0);

  hbox12 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox12);
  gtk_container_add (GTK_CONTAINER (frame13), hbox12);
  gtk_container_set_border_width (GTK_CONTAINER (hbox12), 8);

  entry_shortcut = gtk_entry_new ();
  gtk_widget_show (entry_shortcut);
  gtk_box_pack_start (GTK_BOX (hbox12), entry_shortcut, TRUE, TRUE, 0);

  button_capture = gtk_button_new ();
  gtk_widget_show (button_capture);
  gtk_box_pack_start (GTK_BOX (hbox12), button_capture, FALSE, FALSE, 0);

  alignment1 = gtk_alignment_new (0.5, 0.5, 0, 0);
  gtk_widget_show (alignment1);
  gtk_container_add (GTK_CONTAINER (button_capture), alignment1);

  hbox13 = gtk_hbox_new (FALSE, 2);
  gtk_widget_show (hbox13);
  gtk_container_add (GTK_CONTAINER (alignment1), hbox13);

  image3 = gtk_image_new_from_stock ("gtk-find", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image3);
  gtk_box_pack_start (GTK_BOX (hbox13), image3, FALSE, FALSE, 0);

  label27 = gtk_label_new_with_mnemonic ("Capture");
  gtk_widget_show (label27);
  gtk_box_pack_start (GTK_BOX (hbox13), label27, FALSE, FALSE, 0);

  label26 = gtk_label_new ("Shortcut");
  gtk_widget_show (label26);
  gtk_frame_set_label_widget (GTK_FRAME (frame13), label26);

  frame14 = gtk_frame_new (NULL);
  gtk_widget_show (frame14);
  gtk_box_pack_start (GTK_BOX (vbox15), frame14, TRUE, FALSE, 0);

  hbox14 = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox14);
  gtk_container_add (GTK_CONTAINER (frame14), hbox14);
  gtk_container_set_border_width (GTK_CONTAINER (hbox14), 8);

  entry_cmd = gtk_entry_new ();
  gtk_widget_show (entry_cmd);
  gtk_box_pack_start (GTK_BOX (hbox14), entry_cmd, TRUE, TRUE, 0);

  label28 = gtk_label_new ("Commands");
  gtk_widget_show (label28);
  gtk_frame_set_label_widget (GTK_FRAME (frame14), label28);

  hbox15 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox15);
  gtk_box_pack_start (GTK_BOX (vbox15), hbox15, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbox15), 4);

  button_add = gtk_button_new_from_stock ("gtk-add");
  gtk_widget_show (button_add);
  gtk_box_pack_start (GTK_BOX (hbox15), button_add, TRUE, TRUE, 0);

  button_mod = gtk_button_new ();
  gtk_widget_show (button_mod);
  gtk_box_pack_start (GTK_BOX (hbox15), button_mod, TRUE, TRUE, 0);

  alignment2 = gtk_alignment_new (0.5, 0.5, 0, 0);
  gtk_widget_show (alignment2);
  gtk_container_add (GTK_CONTAINER (button_mod), alignment2);

  hbox16 = gtk_hbox_new (FALSE, 2);
  gtk_widget_show (hbox16);
  gtk_container_add (GTK_CONTAINER (alignment2), hbox16);

  image4 = gtk_image_new_from_stock ("gtk-justify-fill", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image4);
  gtk_box_pack_start (GTK_BOX (hbox16), image4, FALSE, FALSE, 0);

  label29 = gtk_label_new_with_mnemonic ("Modify");
  gtk_widget_show (label29);
  gtk_box_pack_start (GTK_BOX (hbox16), label29, FALSE, FALSE, 0);

  button_del = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (button_del);
  gtk_box_pack_start (GTK_BOX (hbox15), button_del, TRUE, TRUE, 0);

  hseparator5 = gtk_hseparator_new ();
  gtk_widget_show (hseparator5);
  gtk_box_pack_start (GTK_BOX (vbox14), hseparator5, FALSE, FALSE, 4);

  hbuttonbox5 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox5);
  gtk_box_pack_start (GTK_BOX (vbox14), hbuttonbox5, FALSE, FALSE, 0);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox5), GTK_BUTTONBOX_SPREAD);

  button13 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button13);
  gtk_container_add (GTK_CONTAINER (hbuttonbox5), button13);
  GTK_WIDGET_SET_FLAGS (button13, GTK_CAN_DEFAULT);

  button14 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button14);
  gtk_container_add (GTK_CONTAINER (hbuttonbox5), button14);
  GTK_WIDGET_SET_FLAGS (button14, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) clist_macros, "select_row",
                    G_CALLBACK (on_clist_macros_select_row),
                    NULL);
  g_signal_connect ((gpointer) clist_macros, "unselect_row",
                    G_CALLBACK (on_clist_macros_unselect_row),
                    NULL);
  g_signal_connect ((gpointer) entry_shortcut, "key_press_event",
                    G_CALLBACK (on_entry_shortcut_key_press_event),
                    NULL);
  g_signal_connect ((gpointer) button_capture, "clicked",
                    G_CALLBACK (on_button_capture_clicked),
                    NULL);
  g_signal_connect ((gpointer) button_add, "clicked",
                    G_CALLBACK (on_me_button_add_clicked),
                    NULL);
  g_signal_connect ((gpointer) button_mod, "clicked",
                    G_CALLBACK (on_me_button_mod_clicked),
                    NULL);
  g_signal_connect ((gpointer) button_del, "clicked",
                    G_CALLBACK (on_me_button_del_clicked),
                    NULL);
  g_signal_connect ((gpointer) button13, "clicked",
                    G_CALLBACK (on_macro_save_clicked),
                    NULL);
  g_signal_connect ((gpointer) button14, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_macro_editor, window_macro_editor, "window_macro_editor");
  GLADE_HOOKUP_OBJECT (window_macro_editor, vbox14, "vbox14");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbox11, "hbox11");
  GLADE_HOOKUP_OBJECT (window_macro_editor, frame12, "frame12");
  GLADE_HOOKUP_OBJECT (window_macro_editor, scrolledwindow2, "scrolledwindow2");
  GLADE_HOOKUP_OBJECT (window_macro_editor, clist_macros, "clist_macros");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label30, "label30");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label31, "label31");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label25, "label25");
  GLADE_HOOKUP_OBJECT (window_macro_editor, vbox15, "vbox15");
  GLADE_HOOKUP_OBJECT (window_macro_editor, frame13, "frame13");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbox12, "hbox12");
  GLADE_HOOKUP_OBJECT (window_macro_editor, entry_shortcut, "entry_shortcut");
  GLADE_HOOKUP_OBJECT (window_macro_editor, button_capture, "button_capture");
  GLADE_HOOKUP_OBJECT (window_macro_editor, alignment1, "alignment1");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbox13, "hbox13");
  GLADE_HOOKUP_OBJECT (window_macro_editor, image3, "image3");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label27, "label27");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label26, "label26");
  GLADE_HOOKUP_OBJECT (window_macro_editor, frame14, "frame14");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbox14, "hbox14");
  GLADE_HOOKUP_OBJECT (window_macro_editor, entry_cmd, "entry_cmd");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label28, "label28");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbox15, "hbox15");
  GLADE_HOOKUP_OBJECT (window_macro_editor, button_add, "button_add");
  GLADE_HOOKUP_OBJECT (window_macro_editor, button_mod, "button_mod");
  GLADE_HOOKUP_OBJECT (window_macro_editor, alignment2, "alignment2");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbox16, "hbox16");
  GLADE_HOOKUP_OBJECT (window_macro_editor, image4, "image4");
  GLADE_HOOKUP_OBJECT (window_macro_editor, label29, "label29");
  GLADE_HOOKUP_OBJECT (window_macro_editor, button_del, "button_del");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hseparator5, "hseparator5");
  GLADE_HOOKUP_OBJECT (window_macro_editor, hbuttonbox5, "hbuttonbox5");
  GLADE_HOOKUP_OBJECT (window_macro_editor, button13, "button13");
  GLADE_HOOKUP_OBJECT (window_macro_editor, button14, "button14");

  return window_macro_editor;
}

GtkWidget*
create_window_main (void)
{
  GtkWidget *window_main;
  GtkWidget *vbox17;
  GtkWidget *menubar_main;
  GtkWidget *menuitem1;
  GtkWidget *menuitem1_menu;
  GtkWidget *menuitem_conwiz;
  GtkWidget *image14;
  GtkWidget *separator2;
  GtkWidget *menuitem_connect;
  GtkWidget *menuitem_disconnect;
  GtkWidget *menuitem_reconnect;
  GtkWidget *separator3;
  GtkWidget *menuitem_quit;
  GtkWidget *menuitem2;
  GtkWidget *menuitem2_menu;
  GtkWidget *font1;
  GtkWidget *color1;
  GtkWidget *prefs1;
  GtkWidget *separator4;
  GtkWidget *menuitem_load_tt_prefs;
  GtkWidget *menuitem_import_zmud;
  GtkWidget *separator5;
  GtkWidget *menuitem_save_positions;
  GtkWidget *menuitem_export_settings;
  GtkWidget *separator6;
  GtkWidget *menuitem_save_review_buffer;
  GtkWidget *image15;
  GtkWidget *tools1;
  GtkWidget *tools1_menu;
  GtkWidget *macros1;
  GtkWidget *aliases1;
  GtkWidget *triggers1;
  GtkWidget *highlights1;
  GtkWidget *gags1;
  GtkWidget *tab_complete1;
  GtkWidget *variables1;
  GtkWidget *separator7;
  GtkWidget *menuitem_logger;
  GtkWidget *log_viewer1;
  GtkWidget *image16;
  GtkWidget *separator8;
  GtkWidget *trigger_classes;
  GtkWidget *menuitem_mccp_status;
  GtkWidget *menu_help;
  GtkWidget *menu_help_menu;
  GtkWidget *help1;
  GtkWidget *separator9;
  GtkWidget *about1;
  GtkWidget *handlebox_toolbar;
  GtkWidget *toolbar1;
  GtkIconSize tmp_toolbar_icon_size;
  GtkWidget *tmp_image;
  GtkWidget *toolbutton_wizard;
  GtkWidget *toolbutton_connect;
  GtkWidget *toolbutton_disconnect;
  GtkWidget *toolbutton_font;
  GtkWidget *toolbutton_color;
  GtkWidget *toolbutton_prefs;
  GtkWidget *separatortoolitem1;
  GtkWidget *toolbutton_alias;
  GtkWidget *toolbutton_macro;
  GtkWidget *toolbutton10;
  GtkWidget *separatortoolitem2;
  GtkWidget *toolbutton7;
  GtkWidget *hbox_output;
  GtkWidget *hbox17;
  GtkWidget *entry_input;
  GtkWidget *togglebutton_triggers;
  GtkWidget *image7;
  GtkWidget *togglebutton_parse;
  GtkWidget *image6;
  GtkWidget *togglebutton_review;
  GtkWidget *image5;
  GtkWidget *frame16;
  GtkWidget *label_tickcounter;
  GtkWidget *label35;
  GtkWidget *statusbar_main;
  GtkAccelGroup *accel_group;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  accel_group = gtk_accel_group_new ();

  window_main = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_widget_set_size_request (window_main, 600, 400);
  gtk_container_set_border_width (GTK_CONTAINER (window_main), 3);
  gtk_window_set_title (GTK_WINDOW (window_main), "GGMud");

  vbox17 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox17);
  gtk_container_add (GTK_CONTAINER (window_main), vbox17);

  menubar_main = gtk_menu_bar_new ();
  gtk_widget_show (menubar_main);
  gtk_box_pack_start (GTK_BOX (vbox17), menubar_main, FALSE, FALSE, 0);

  menuitem1 = gtk_menu_item_new_with_mnemonic ("_File");
  gtk_widget_show (menuitem1);
  gtk_container_add (GTK_CONTAINER (menubar_main), menuitem1);

  menuitem1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (menuitem1), menuitem1_menu);

  menuitem_conwiz = gtk_image_menu_item_new_with_mnemonic ("Connection Wizard");
  gtk_widget_show (menuitem_conwiz);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), menuitem_conwiz);

  image14 = gtk_image_new_from_stock ("gtk-dialog-info", GTK_ICON_SIZE_MENU);
  gtk_widget_show (image14);
  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (menuitem_conwiz), image14);

  separator2 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator2);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), separator2);
  gtk_widget_set_sensitive (separator2, FALSE);

  menuitem_connect = gtk_image_menu_item_new_from_stock ("gtk-connect", accel_group);
  gtk_widget_show (menuitem_connect);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), menuitem_connect);

  menuitem_disconnect = gtk_image_menu_item_new_from_stock ("gtk-disconnect", accel_group);
  gtk_widget_show (menuitem_disconnect);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), menuitem_disconnect);

  menuitem_reconnect = gtk_menu_item_new_with_mnemonic ("Reconnect");
  gtk_widget_show (menuitem_reconnect);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), menuitem_reconnect);

  separator3 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator3);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), separator3);
  gtk_widget_set_sensitive (separator3, FALSE);

  menuitem_quit = gtk_image_menu_item_new_from_stock ("gtk-quit", accel_group);
  gtk_widget_show (menuitem_quit);
  gtk_container_add (GTK_CONTAINER (menuitem1_menu), menuitem_quit);

  menuitem2 = gtk_menu_item_new_with_mnemonic ("Options");
  gtk_widget_show (menuitem2);
  gtk_container_add (GTK_CONTAINER (menubar_main), menuitem2);

  menuitem2_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (menuitem2), menuitem2_menu);

  font1 = gtk_image_menu_item_new_from_stock ("gtk-select-font", accel_group);
  gtk_widget_show (font1);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), font1);

  color1 = gtk_image_menu_item_new_from_stock ("gtk-select-color", accel_group);
  gtk_widget_show (color1);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), color1);

  prefs1 = gtk_image_menu_item_new_from_stock ("gtk-preferences", accel_group);
  gtk_widget_show (prefs1);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), prefs1);

  separator4 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator4);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), separator4);
  gtk_widget_set_sensitive (separator4, FALSE);

  menuitem_load_tt_prefs = gtk_menu_item_new_with_mnemonic ("Load TT++/GGMUD file...");
  gtk_widget_show (menuitem_load_tt_prefs);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), menuitem_load_tt_prefs);

  menuitem_import_zmud = gtk_menu_item_new_with_mnemonic ("Import ZMud config...");
  gtk_widget_show (menuitem_import_zmud);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), menuitem_import_zmud);

  separator5 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator5);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), separator5);
  gtk_widget_set_sensitive (separator5, FALSE);

  menuitem_save_positions = gtk_menu_item_new_with_mnemonic ("Save window positions");
  gtk_widget_show (menuitem_save_positions);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), menuitem_save_positions);

  menuitem_export_settings = gtk_menu_item_new_with_mnemonic ("Export settings");
  gtk_widget_show (menuitem_export_settings);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), menuitem_export_settings);

  separator6 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator6);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), separator6);
  gtk_widget_set_sensitive (separator6, FALSE);

  menuitem_save_review_buffer = gtk_image_menu_item_new_with_mnemonic ("Save review buffer...");
  gtk_widget_show (menuitem_save_review_buffer);
  gtk_container_add (GTK_CONTAINER (menuitem2_menu), menuitem_save_review_buffer);

  image15 = gtk_image_new_from_stock ("gtk-save-as", GTK_ICON_SIZE_MENU);
  gtk_widget_show (image15);
  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (menuitem_save_review_buffer), image15);

  tools1 = gtk_menu_item_new_with_mnemonic ("Tools");
  gtk_widget_show (tools1);
  gtk_container_add (GTK_CONTAINER (menubar_main), tools1);

  tools1_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (tools1), tools1_menu);

  macros1 = gtk_menu_item_new_with_mnemonic ("Macros");
  gtk_widget_show (macros1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), macros1);

  aliases1 = gtk_menu_item_new_with_mnemonic ("Aliases");
  gtk_widget_show (aliases1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), aliases1);
  gtk_widget_add_accelerator (aliases1, "activate", accel_group,
                              GDK_a, (GdkModifierType) GDK_MOD1_MASK,
                              GTK_ACCEL_VISIBLE);

  triggers1 = gtk_menu_item_new_with_mnemonic ("Triggers");
  gtk_widget_show (triggers1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), triggers1);
  gtk_widget_add_accelerator (triggers1, "activate", accel_group,
                              GDK_t, (GdkModifierType) GDK_MOD1_MASK,
                              GTK_ACCEL_VISIBLE);

  highlights1 = gtk_menu_item_new_with_mnemonic ("Highlights");
  gtk_widget_show (highlights1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), highlights1);

  gags1 = gtk_menu_item_new_with_mnemonic ("Gags");
  gtk_widget_show (gags1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), gags1);

  tab_complete1 = gtk_menu_item_new_with_mnemonic ("Tab complete");
  gtk_widget_show (tab_complete1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), tab_complete1);

  variables1 = gtk_menu_item_new_with_mnemonic ("Variables");
  gtk_widget_show (variables1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), variables1);

  separator7 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator7);
  gtk_container_add (GTK_CONTAINER (tools1_menu), separator7);
  gtk_widget_set_sensitive (separator7, FALSE);

  menuitem_logger = gtk_check_menu_item_new_with_mnemonic ("Logger");
  gtk_widget_show (menuitem_logger);
  gtk_container_add (GTK_CONTAINER (tools1_menu), menuitem_logger);
  gtk_tooltips_set_tip (tooltips, menuitem_logger, "Enable/disable logger", NULL);
  gtk_widget_add_accelerator (menuitem_logger, "activate", accel_group,
                              GDK_l, (GdkModifierType) GDK_MOD1_MASK,
                              GTK_ACCEL_VISIBLE);

  log_viewer1 = gtk_image_menu_item_new_with_mnemonic ("Log Viewer");
  gtk_widget_show (log_viewer1);
  gtk_container_add (GTK_CONTAINER (tools1_menu), log_viewer1);

  image16 = gtk_image_new_from_stock ("gtk-justify-left", GTK_ICON_SIZE_MENU);
  gtk_widget_show (image16);
  gtk_image_menu_item_set_image (GTK_IMAGE_MENU_ITEM (log_viewer1), image16);

  separator8 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator8);
  gtk_container_add (GTK_CONTAINER (tools1_menu), separator8);
  gtk_widget_set_sensitive (separator8, FALSE);

  trigger_classes = gtk_menu_item_new_with_mnemonic ("Enable/disable trigger classes");
  gtk_widget_show (trigger_classes);
  gtk_container_add (GTK_CONTAINER (tools1_menu), trigger_classes);

  menuitem_mccp_status = gtk_menu_item_new_with_mnemonic ("MCCP status");
  gtk_widget_show (menuitem_mccp_status);
  gtk_container_add (GTK_CONTAINER (tools1_menu), menuitem_mccp_status);

  menu_help = gtk_menu_item_new_with_mnemonic ("Help");
  gtk_widget_show (menu_help);
  gtk_container_add (GTK_CONTAINER (menubar_main), menu_help);

  menu_help_menu = gtk_menu_new ();
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (menu_help), menu_help_menu);

  help1 = gtk_image_menu_item_new_from_stock ("gtk-help", accel_group);
  gtk_widget_show (help1);
  gtk_container_add (GTK_CONTAINER (menu_help_menu), help1);

  separator9 = gtk_separator_menu_item_new ();
  gtk_widget_show (separator9);
  gtk_container_add (GTK_CONTAINER (menu_help_menu), separator9);
  gtk_widget_set_sensitive (separator9, FALSE);

  about1 = gtk_image_menu_item_new_from_stock ("gtk-about", accel_group);
  gtk_widget_show (about1);
  gtk_container_add (GTK_CONTAINER (menu_help_menu), about1);

  handlebox_toolbar = gtk_handle_box_new ();
  gtk_widget_show (handlebox_toolbar);
  gtk_box_pack_start (GTK_BOX (vbox17), handlebox_toolbar, FALSE, FALSE, 0);

  toolbar1 = gtk_toolbar_new ();
  gtk_widget_show (toolbar1);
  gtk_container_add (GTK_CONTAINER (handlebox_toolbar), toolbar1);
  gtk_container_set_border_width (GTK_CONTAINER (toolbar1), 4);
  gtk_toolbar_set_style (GTK_TOOLBAR (toolbar1), GTK_TOOLBAR_BOTH);
  tmp_toolbar_icon_size = gtk_toolbar_get_icon_size (GTK_TOOLBAR (toolbar1));

  tmp_image = gtk_image_new_from_stock ("gtk-dialog-info", tmp_toolbar_icon_size);
  gtk_widget_show (tmp_image);
  toolbutton_wizard = (GtkWidget*) gtk_tool_button_new (tmp_image, "Wizard");
  gtk_widget_show (toolbutton_wizard);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_wizard);
  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbutton_wizard), tooltips, "Connection Wizard (Alt+W)", NULL);

  toolbutton_connect = (GtkWidget*) gtk_tool_button_new_from_stock ("gtk-connect");
  gtk_widget_show (toolbutton_connect);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_connect);

  toolbutton_disconnect = (GtkWidget*) gtk_tool_button_new_from_stock ("gtk-disconnect");
  gtk_widget_show (toolbutton_disconnect);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_disconnect);
  gtk_widget_set_sensitive (toolbutton_disconnect, FALSE);

  toolbutton_font = (GtkWidget*) gtk_tool_button_new_from_stock ("gtk-select-font");
  gtk_widget_show (toolbutton_font);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_font);

  toolbutton_color = (GtkWidget*) gtk_tool_button_new_from_stock ("gtk-select-color");
  gtk_widget_show (toolbutton_color);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_color);

  toolbutton_prefs = (GtkWidget*) gtk_tool_button_new_from_stock ("gtk-preferences");
  gtk_widget_show (toolbutton_prefs);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_prefs);
  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbutton_prefs), tooltips, "Modify GGMud settings...", NULL);

  separatortoolitem1 = (GtkWidget*) gtk_separator_tool_item_new ();
  gtk_widget_show (separatortoolitem1);
  gtk_container_add (GTK_CONTAINER (toolbar1), separatortoolitem1);

  tmp_image = create_pixmap (window_main, "alias.xpm");
  gtk_widget_show (tmp_image);
  toolbutton_alias = (GtkWidget*) gtk_tool_button_new (tmp_image, "Alias");
  gtk_widget_show (toolbutton_alias);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_alias);
  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbutton_alias), tooltips, "Alias (Alt+A)", NULL);

  tmp_image = create_pixmap (window_main, "macro.xpm");
  gtk_widget_show (tmp_image);
  toolbutton_macro = (GtkWidget*) gtk_tool_button_new (tmp_image, "Macro");
  gtk_widget_show (toolbutton_macro);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton_macro);
  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbutton_macro), tooltips, "Macros (Alt+M)", NULL);

  tmp_image = create_pixmap (window_main, "trig.xpm");
  gtk_widget_show (tmp_image);
  toolbutton10 = (GtkWidget*) gtk_tool_button_new (tmp_image, "Trigger");
  gtk_widget_show (toolbutton10);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton10);
  gtk_tool_item_set_tooltip (GTK_TOOL_ITEM (toolbutton10), tooltips, "Triggers (Alt+T)", NULL);

  separatortoolitem2 = (GtkWidget*) gtk_separator_tool_item_new ();
  gtk_widget_show (separatortoolitem2);
  gtk_tool_item_set_expand (GTK_TOOL_ITEM (separatortoolitem2), TRUE);
  gtk_container_add (GTK_CONTAINER (toolbar1), separatortoolitem2);
  gtk_separator_tool_item_set_draw (GTK_SEPARATOR_TOOL_ITEM (separatortoolitem2), FALSE);

  toolbutton7 = (GtkWidget*) gtk_tool_button_new_from_stock ("gtk-help");
  gtk_widget_show (toolbutton7);
  gtk_container_add (GTK_CONTAINER (toolbar1), toolbutton7);

  hbox_output = gtk_hbox_new (FALSE, 0);
  gtk_widget_show (hbox_output);
  gtk_box_pack_start (GTK_BOX (vbox17), hbox_output, TRUE, TRUE, 0);

  hbox17 = gtk_hbox_new (FALSE, 4);
  gtk_widget_show (hbox17);
  gtk_box_pack_start (GTK_BOX (vbox17), hbox17, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hbox17), 2);

  entry_input = gtk_entry_new ();
  gtk_widget_show (entry_input);
  gtk_box_pack_start (GTK_BOX (hbox17), entry_input, TRUE, TRUE, 0);
  GTK_WIDGET_SET_FLAGS (entry_input, GTK_CAN_DEFAULT);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_input), 9679);

  togglebutton_triggers = gtk_toggle_button_new ();
  gtk_widget_show (togglebutton_triggers);
  gtk_box_pack_start (GTK_BOX (hbox17), togglebutton_triggers, FALSE, FALSE, 0);
  GTK_WIDGET_UNSET_FLAGS (togglebutton_triggers, GTK_CAN_FOCUS);
  gtk_tooltips_set_tip (tooltips, togglebutton_triggers, "Enable/disable triggers", NULL);

  image7 = create_pixmap (window_main, "trig.xpm");
  gtk_widget_show (image7);
  gtk_container_add (GTK_CONTAINER (togglebutton_triggers), image7);

  togglebutton_parse = gtk_toggle_button_new ();
  gtk_widget_show (togglebutton_parse);
  gtk_box_pack_start (GTK_BOX (hbox17), togglebutton_parse, FALSE, FALSE, 0);
  GTK_WIDGET_UNSET_FLAGS (togglebutton_parse, GTK_CAN_FOCUS);
  gtk_tooltips_set_tip (tooltips, togglebutton_parse, "Enable/disable input line parsing for commands/aliases/special characters...", NULL);

  image6 = create_pixmap (window_main, "parsing.xpm");
  gtk_widget_show (image6);
  gtk_container_add (GTK_CONTAINER (togglebutton_parse), image6);

  togglebutton_review = gtk_toggle_button_new ();
  gtk_widget_show (togglebutton_review);
  gtk_box_pack_start (GTK_BOX (hbox17), togglebutton_review, FALSE, FALSE, 0);
  GTK_WIDGET_UNSET_FLAGS (togglebutton_review, GTK_CAN_FOCUS);
  gtk_tooltips_set_tip (tooltips, togglebutton_review, "Split output view to see scrollback.", NULL);

  image5 = gtk_image_new_from_stock ("gtk-justify-left", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image5);
  gtk_container_add (GTK_CONTAINER (togglebutton_review), image5);

  frame16 = gtk_frame_new (NULL);
  gtk_widget_show (frame16);
  gtk_box_pack_start (GTK_BOX (hbox17), frame16, FALSE, FALSE, 0);
  gtk_frame_set_label_align (GTK_FRAME (frame16), 0.5, 0.5);

  label_tickcounter = gtk_label_new ("OFF");
  gtk_widget_show (label_tickcounter);
  gtk_container_add (GTK_CONTAINER (frame16), label_tickcounter);

  label35 = gtk_label_new ("<b>Tick</b>");
  gtk_widget_show (label35);
  gtk_frame_set_label_widget (GTK_FRAME (frame16), label35);
  gtk_label_set_use_markup (GTK_LABEL (label35), TRUE);

  statusbar_main = gtk_statusbar_new ();
  gtk_widget_show (statusbar_main);
  gtk_box_pack_start (GTK_BOX (vbox17), statusbar_main, FALSE, FALSE, 0);

  g_signal_connect ((gpointer) window_main, "delete_event",
                    G_CALLBACK (quit),
                    NULL);
  g_signal_connect ((gpointer) menuitem_conwiz, "activate",
                    G_CALLBACK (do_wiz),
                    NULL);
  g_signal_connect ((gpointer) menuitem_connect, "activate",
                    G_CALLBACK (cbox),
                    NULL);
  g_signal_connect ((gpointer) menuitem_disconnect, "activate",
                    G_CALLBACK (disconnect),
                    NULL);
  g_signal_connect ((gpointer) menuitem_reconnect, "activate",
                    G_CALLBACK (reconnect),
                    NULL);
  g_signal_connect ((gpointer) menuitem_quit, "activate",
                    G_CALLBACK (quit),
                    NULL);
  g_signal_connect ((gpointer) font1, "activate",
                    G_CALLBACK (window_font),
                    NULL);
  g_signal_connect ((gpointer) color1, "activate",
                    G_CALLBACK (color_prefs),
                    NULL);
  g_signal_connect ((gpointer) prefs1, "activate",
                    G_CALLBACK (window_prefs),
                    NULL);
  g_signal_connect ((gpointer) menuitem_load_tt_prefs, "activate",
                    G_CALLBACK (load_tt_prefs),
                    NULL);
  g_signal_connect ((gpointer) menuitem_import_zmud, "activate",
                    G_CALLBACK (load_zmud_prefs),
                    NULL);
  g_signal_connect ((gpointer) menuitem_save_positions, "activate",
                    G_CALLBACK (save_win_pos),
                    NULL);
  g_signal_connect ((gpointer) menuitem_export_settings, "activate",
                    G_CALLBACK (save_all_prefs),
                    NULL);
  g_signal_connect ((gpointer) menuitem_save_review_buffer, "activate",
                    G_CALLBACK (save_review),
                    NULL);
  g_signal_connect ((gpointer) macros1, "activate",
                    G_CALLBACK (window_macro),
                    NULL);
  g_signal_connect ((gpointer) aliases1, "activate",
                    G_CALLBACK (window_alias),
                    NULL);
  g_signal_connect ((gpointer) triggers1, "activate",
                    G_CALLBACK (triggers_window),
                    NULL);
  g_signal_connect ((gpointer) highlights1, "activate",
                    G_CALLBACK (highlights_window),
                    NULL);
  g_signal_connect ((gpointer) gags1, "activate",
                    G_CALLBACK (gags_window),
                    NULL);
  g_signal_connect ((gpointer) tab_complete1, "activate",
                    G_CALLBACK (create_complete_window),
                    NULL);
  g_signal_connect ((gpointer) variables1, "activate",
                    G_CALLBACK (variables_window),
                    NULL);
  g_signal_connect ((gpointer) menuitem_logger, "activate",
                    G_CALLBACK (do_log),
                    NULL);
  g_signal_connect ((gpointer) log_viewer1, "activate",
                    G_CALLBACK (log_viewer),
                    NULL);
  g_signal_connect ((gpointer) trigger_classes, "activate",
                    G_CALLBACK (triggerclass_window),
                    NULL);
  g_signal_connect ((gpointer) menuitem_mccp_status, "activate",
                    G_CALLBACK (mccp_status),
                    NULL);
  g_signal_connect ((gpointer) help1, "activate",
                    G_CALLBACK (do_manual),
                    NULL);
  g_signal_connect ((gpointer) about1, "activate",
                    G_CALLBACK (do_about),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_wizard, "clicked",
                    G_CALLBACK (do_wiz),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_connect, "clicked",
                    G_CALLBACK (cbox),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_disconnect, "clicked",
                    G_CALLBACK (disconnect),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_font, "clicked",
                    G_CALLBACK (window_font),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_color, "clicked",
                    G_CALLBACK (color_prefs),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_prefs, "clicked",
                    G_CALLBACK (window_prefs),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_alias, "clicked",
                    G_CALLBACK (window_alias),
                    NULL);
  g_signal_connect ((gpointer) toolbutton_macro, "clicked",
                    G_CALLBACK (window_macro),
                    NULL);
  g_signal_connect ((gpointer) toolbutton10, "clicked",
                    G_CALLBACK (triggers_window),
                    NULL);
  g_signal_connect ((gpointer) toolbutton7, "clicked",
                    G_CALLBACK (do_manual),
                    NULL);
  g_signal_connect ((gpointer) entry_input, "activate",
                    G_CALLBACK (send_to_connection),
                    NULL);
  g_signal_connect ((gpointer) entry_input, "key_press_event",
                    G_CALLBACK (hist_evt),
                    NULL);
  g_signal_connect ((gpointer) togglebutton_triggers, "toggled",
                    G_CALLBACK (toggle_triggers),
                    NULL);
  g_signal_connect ((gpointer) togglebutton_parse, "toggled",
                    G_CALLBACK (toggle_parsing),
                    NULL);
  g_signal_connect ((gpointer) togglebutton_review, "toggled",
                    G_CALLBACK (toggle_review),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_main, window_main, "window_main");
  GLADE_HOOKUP_OBJECT (window_main, vbox17, "vbox17");
  GLADE_HOOKUP_OBJECT (window_main, menubar_main, "menubar_main");
  GLADE_HOOKUP_OBJECT (window_main, menuitem1, "menuitem1");
  GLADE_HOOKUP_OBJECT (window_main, menuitem1_menu, "menuitem1_menu");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_conwiz, "menuitem_conwiz");
  GLADE_HOOKUP_OBJECT (window_main, image14, "image14");
  GLADE_HOOKUP_OBJECT (window_main, separator2, "separator2");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_connect, "menuitem_connect");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_disconnect, "menuitem_disconnect");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_reconnect, "menuitem_reconnect");
  GLADE_HOOKUP_OBJECT (window_main, separator3, "separator3");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_quit, "menuitem_quit");
  GLADE_HOOKUP_OBJECT (window_main, menuitem2, "menuitem2");
  GLADE_HOOKUP_OBJECT (window_main, menuitem2_menu, "menuitem2_menu");
  GLADE_HOOKUP_OBJECT (window_main, font1, "font1");
  GLADE_HOOKUP_OBJECT (window_main, color1, "color1");
  GLADE_HOOKUP_OBJECT (window_main, prefs1, "prefs1");
  GLADE_HOOKUP_OBJECT (window_main, separator4, "separator4");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_load_tt_prefs, "menuitem_load_tt_prefs");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_import_zmud, "menuitem_import_zmud");
  GLADE_HOOKUP_OBJECT (window_main, separator5, "separator5");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_save_positions, "menuitem_save_positions");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_export_settings, "menuitem_export_settings");
  GLADE_HOOKUP_OBJECT (window_main, separator6, "separator6");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_save_review_buffer, "menuitem_save_review_buffer");
  GLADE_HOOKUP_OBJECT (window_main, image15, "image15");
  GLADE_HOOKUP_OBJECT (window_main, tools1, "tools1");
  GLADE_HOOKUP_OBJECT (window_main, tools1_menu, "tools1_menu");
  GLADE_HOOKUP_OBJECT (window_main, macros1, "macros1");
  GLADE_HOOKUP_OBJECT (window_main, aliases1, "aliases1");
  GLADE_HOOKUP_OBJECT (window_main, triggers1, "triggers1");
  GLADE_HOOKUP_OBJECT (window_main, highlights1, "highlights1");
  GLADE_HOOKUP_OBJECT (window_main, gags1, "gags1");
  GLADE_HOOKUP_OBJECT (window_main, tab_complete1, "tab_complete1");
  GLADE_HOOKUP_OBJECT (window_main, variables1, "variables1");
  GLADE_HOOKUP_OBJECT (window_main, separator7, "separator7");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_logger, "menuitem_logger");
  GLADE_HOOKUP_OBJECT (window_main, log_viewer1, "log_viewer1");
  GLADE_HOOKUP_OBJECT (window_main, image16, "image16");
  GLADE_HOOKUP_OBJECT (window_main, separator8, "separator8");
  GLADE_HOOKUP_OBJECT (window_main, trigger_classes, "trigger_classes");
  GLADE_HOOKUP_OBJECT (window_main, menuitem_mccp_status, "menuitem_mccp_status");
  GLADE_HOOKUP_OBJECT (window_main, menu_help, "menu_help");
  GLADE_HOOKUP_OBJECT (window_main, menu_help_menu, "menu_help_menu");
  GLADE_HOOKUP_OBJECT (window_main, help1, "help1");
  GLADE_HOOKUP_OBJECT (window_main, separator9, "separator9");
  GLADE_HOOKUP_OBJECT (window_main, about1, "about1");
  GLADE_HOOKUP_OBJECT (window_main, handlebox_toolbar, "handlebox_toolbar");
  GLADE_HOOKUP_OBJECT (window_main, toolbar1, "toolbar1");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_wizard, "toolbutton_wizard");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_connect, "toolbutton_connect");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_disconnect, "toolbutton_disconnect");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_font, "toolbutton_font");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_color, "toolbutton_color");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_prefs, "toolbutton_prefs");
  GLADE_HOOKUP_OBJECT (window_main, separatortoolitem1, "separatortoolitem1");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_alias, "toolbutton_alias");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton_macro, "toolbutton_macro");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton10, "toolbutton10");
  GLADE_HOOKUP_OBJECT (window_main, separatortoolitem2, "separatortoolitem2");
  GLADE_HOOKUP_OBJECT (window_main, toolbutton7, "toolbutton7");
  GLADE_HOOKUP_OBJECT (window_main, hbox_output, "hbox_output");
  GLADE_HOOKUP_OBJECT (window_main, hbox17, "hbox17");
  GLADE_HOOKUP_OBJECT (window_main, entry_input, "entry_input");
  GLADE_HOOKUP_OBJECT (window_main, togglebutton_triggers, "togglebutton_triggers");
  GLADE_HOOKUP_OBJECT (window_main, image7, "image7");
  GLADE_HOOKUP_OBJECT (window_main, togglebutton_parse, "togglebutton_parse");
  GLADE_HOOKUP_OBJECT (window_main, image6, "image6");
  GLADE_HOOKUP_OBJECT (window_main, togglebutton_review, "togglebutton_review");
  GLADE_HOOKUP_OBJECT (window_main, image5, "image5");
  GLADE_HOOKUP_OBJECT (window_main, frame16, "frame16");
  GLADE_HOOKUP_OBJECT (window_main, label_tickcounter, "label_tickcounter");
  GLADE_HOOKUP_OBJECT (window_main, label35, "label35");
  GLADE_HOOKUP_OBJECT (window_main, statusbar_main, "statusbar_main");
  GLADE_HOOKUP_OBJECT_NO_REF (window_main, tooltips, "tooltips");

  gtk_widget_grab_focus (entry_input);
  gtk_widget_grab_default (entry_input);
  gtk_window_add_accel_group (GTK_WINDOW (window_main), accel_group);

  return window_main;
}

GtkWidget*
create_window_connect (void)
{
  GtkWidget *window_connect;
  GtkWidget *vbox16;
  GtkWidget *frame15;
  GtkWidget *alignment3;
  GtkWidget *table4;
  GtkWidget *label33;
  GtkWidget *label34;
  GtkWidget *entry_host;
  GtkWidget *entry_port;
  GtkWidget *label32;
  GtkWidget *hbuttonbox6;
  GtkWidget *button15;
  GtkWidget *button16;

  window_connect = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title (GTK_WINDOW (window_connect), "GGMud Connection");
  gtk_window_set_position (GTK_WINDOW (window_connect), GTK_WIN_POS_MOUSE);
  gtk_window_set_modal (GTK_WINDOW (window_connect), TRUE);

  vbox16 = gtk_vbox_new (FALSE, 0);
  gtk_widget_show (vbox16);
  gtk_container_add (GTK_CONTAINER (window_connect), vbox16);
  gtk_container_set_border_width (GTK_CONTAINER (vbox16), 3);

  frame15 = gtk_frame_new (NULL);
  gtk_widget_show (frame15);
  gtk_box_pack_start (GTK_BOX (vbox16), frame15, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame15), 4);
  gtk_frame_set_label_align (GTK_FRAME (frame15), 0.03, 0.5);

  alignment3 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_show (alignment3);
  gtk_container_add (GTK_CONTAINER (frame15), alignment3);

  table4 = gtk_table_new (2, 2, FALSE);
  gtk_widget_show (table4);
  gtk_container_add (GTK_CONTAINER (alignment3), table4);
  gtk_container_set_border_width (GTK_CONTAINER (table4), 4);
  gtk_table_set_row_spacings (GTK_TABLE (table4), 5);
  gtk_table_set_col_spacings (GTK_TABLE (table4), 4);

  label33 = gtk_label_new ("Host");
  gtk_widget_show (label33);
  gtk_table_attach (GTK_TABLE (table4), label33, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label33), 0, 0.5);

  label34 = gtk_label_new ("Port");
  gtk_widget_show (label34);
  gtk_table_attach (GTK_TABLE (table4), label34, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label34), 0, 0.5);

  entry_host = gtk_entry_new ();
  gtk_widget_show (entry_host);
  gtk_table_attach (GTK_TABLE (table4), entry_host, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_host), 9679);

  entry_port = gtk_entry_new ();
  gtk_widget_show (entry_port);
  gtk_table_attach (GTK_TABLE (table4), entry_port, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_port), 9679);

  label32 = gtk_label_new ("<b>Connect to...</b>");
  gtk_widget_show (label32);
  gtk_frame_set_label_widget (GTK_FRAME (frame15), label32);
  gtk_label_set_use_markup (GTK_LABEL (label32), TRUE);

  hbuttonbox6 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox6);
  gtk_box_pack_start (GTK_BOX (vbox16), hbuttonbox6, TRUE, TRUE, 0);
  gtk_button_box_set_layout (GTK_BUTTON_BOX (hbuttonbox6), GTK_BUTTONBOX_SPREAD);

  button15 = gtk_button_new_from_stock ("gtk-connect");
  gtk_widget_show (button15);
  gtk_container_add (GTK_CONTAINER (hbuttonbox6), button15);
  GTK_WIDGET_SET_FLAGS (button15, GTK_CAN_DEFAULT);

  button16 = gtk_button_new_from_stock ("gtk-cancel");
  gtk_widget_show (button16);
  gtk_container_add (GTK_CONTAINER (hbuttonbox6), button16);
  GTK_WIDGET_SET_FLAGS (button16, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) entry_host, "activate",
                    G_CALLBACK (do_con),
                    NULL);
  g_signal_connect ((gpointer) entry_port, "activate",
                    G_CALLBACK (do_con),
                    NULL);
  g_signal_connect ((gpointer) button15, "clicked",
                    G_CALLBACK (do_con),
                    NULL);
  g_signal_connect ((gpointer) button16, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_connect, window_connect, "window_connect");
  GLADE_HOOKUP_OBJECT (window_connect, vbox16, "vbox16");
  GLADE_HOOKUP_OBJECT (window_connect, frame15, "frame15");
  GLADE_HOOKUP_OBJECT (window_connect, alignment3, "alignment3");
  GLADE_HOOKUP_OBJECT (window_connect, table4, "table4");
  GLADE_HOOKUP_OBJECT (window_connect, label33, "label33");
  GLADE_HOOKUP_OBJECT (window_connect, label34, "label34");
  GLADE_HOOKUP_OBJECT (window_connect, entry_host, "entry_host");
  GLADE_HOOKUP_OBJECT (window_connect, entry_port, "entry_port");
  GLADE_HOOKUP_OBJECT (window_connect, label32, "label32");
  GLADE_HOOKUP_OBJECT (window_connect, hbuttonbox6, "hbuttonbox6");
  GLADE_HOOKUP_OBJECT (window_connect, button15, "button15");
  GLADE_HOOKUP_OBJECT (window_connect, button16, "button16");

  return window_connect;
}

GtkWidget*
create_window_triggers (void)
{
  GtkWidget *window_triggers;
  GtkWidget *vbox18;
  GtkWidget *scrolledwindow3;
  GtkWidget *clist_trig;
  GtkWidget *label36;
  GtkWidget *label37;
  GtkWidget *label38;
  GtkWidget *label39;
  GtkWidget *table5;
  GtkWidget *label41;
  GtkWidget *button17;
  GtkWidget *image17;
  GtkWidget *entry_trig;
  GtkWidget *entry_cmd;
  GtkWidget *label40;
  GtkWidget *comboboxentry_class;
  GtkWidget *label42;
  GtkWidget *hseparator6;
  GtkWidget *hbuttonbox7;
  GtkWidget *button18;
  GtkWidget *button19;
  GtkWidget *button20;
  GtkWidget *button21;

  window_triggers = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title (GTK_WINDOW (window_triggers), "Triggers (actions)");

  vbox18 = gtk_vbox_new (FALSE, 5);
  gtk_widget_show (vbox18);
  gtk_container_add (GTK_CONTAINER (window_triggers), vbox18);

  scrolledwindow3 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow3);
  gtk_box_pack_start (GTK_BOX (vbox18), scrolledwindow3, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_POLICY_AUTOMATIC, GTK_POLICY_ALWAYS);
  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_SHADOW_IN);

  clist_trig = gtk_clist_new (4);
  gtk_widget_show (clist_trig);
  gtk_container_add (GTK_CONTAINER (scrolledwindow3), clist_trig);
  gtk_widget_set_size_request (clist_trig, 680, 200);
  gtk_clist_set_column_width (GTK_CLIST (clist_trig), 0, 174);
  gtk_clist_set_column_width (GTK_CLIST (clist_trig), 1, 354);
  gtk_clist_set_column_width (GTK_CLIST (clist_trig), 2, 74);
  gtk_clist_set_column_width (GTK_CLIST (clist_trig), 3, 44);
  gtk_clist_column_titles_show (GTK_CLIST (clist_trig));

  label36 = gtk_label_new ("Trigger string");
  gtk_widget_show (label36);
  gtk_clist_set_column_widget (GTK_CLIST (clist_trig), 0, label36);

  label37 = gtk_label_new ("Commands");
  gtk_widget_show (label37);
  gtk_clist_set_column_widget (GTK_CLIST (clist_trig), 1, label37);

  label38 = gtk_label_new ("Class");
  gtk_widget_show (label38);
  gtk_clist_set_column_widget (GTK_CLIST (clist_trig), 2, label38);

  label39 = gtk_label_new ("State");
  gtk_widget_show (label39);
  gtk_clist_set_column_widget (GTK_CLIST (clist_trig), 3, label39);

  table5 = gtk_table_new (2, 4, FALSE);
  gtk_widget_show (table5);
  gtk_box_pack_start (GTK_BOX (vbox18), table5, FALSE, FALSE, 0);

  label41 = gtk_label_new ("<b>Commands</b>");
  gtk_widget_show (label41);
  gtk_table_attach (GTK_TABLE (table5), label41, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_use_markup (GTK_LABEL (label41), TRUE);
  gtk_misc_set_padding (GTK_MISC (label41), 2, 2);

  button17 = gtk_button_new ();
  gtk_widget_show (button17);
  gtk_table_attach (GTK_TABLE (table5), button17, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  image17 = gtk_image_new_from_stock ("gtk-find", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image17);
  gtk_container_add (GTK_CONTAINER (button17), image17);

  entry_trig = gtk_entry_new ();
  gtk_widget_show (entry_trig);
  gtk_table_attach (GTK_TABLE (table5), entry_trig, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_trig), 9679);

  entry_cmd = gtk_entry_new ();
  gtk_widget_show (entry_cmd);
  gtk_table_attach (GTK_TABLE (table5), entry_cmd, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_cmd), 9679);

  label40 = gtk_label_new ("<b>Trigger</b>");
  gtk_widget_show (label40);
  gtk_table_attach (GTK_TABLE (table5), label40, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_use_markup (GTK_LABEL (label40), TRUE);
  gtk_misc_set_padding (GTK_MISC (label40), 2, 2);

  comboboxentry_class = gtk_combo_box_entry_new_text ();
  gtk_widget_show (comboboxentry_class);
  gtk_table_attach (GTK_TABLE (table5), comboboxentry_class, 3, 4, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  label42 = gtk_label_new ("<b>Class</b>");
  gtk_widget_show (label42);
  gtk_table_attach (GTK_TABLE (table5), label42, 3, 4, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_use_markup (GTK_LABEL (label42), TRUE);
  gtk_misc_set_padding (GTK_MISC (label42), 2, 2);

  hseparator6 = gtk_hseparator_new ();
  gtk_widget_show (hseparator6);
  gtk_box_pack_start (GTK_BOX (vbox18), hseparator6, FALSE, FALSE, 0);

  hbuttonbox7 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox7);
  gtk_box_pack_start (GTK_BOX (vbox18), hbuttonbox7, FALSE, TRUE, 0);

  button18 = gtk_button_new_from_stock ("gtk-add");
  gtk_widget_show (button18);
  gtk_container_add (GTK_CONTAINER (hbuttonbox7), button18);
  GTK_WIDGET_SET_FLAGS (button18, GTK_CAN_DEFAULT);

  button19 = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (button19);
  gtk_container_add (GTK_CONTAINER (hbuttonbox7), button19);
  GTK_WIDGET_SET_FLAGS (button19, GTK_CAN_DEFAULT);

  button20 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button20);
  gtk_container_add (GTK_CONTAINER (hbuttonbox7), button20);
  GTK_WIDGET_SET_FLAGS (button20, GTK_CAN_DEFAULT);

  button21 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button21);
  gtk_container_add (GTK_CONTAINER (hbuttonbox7), button21);
  GTK_WIDGET_SET_FLAGS (button21, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) window_triggers, "destroy_event",
                    G_CALLBACK (close_window),
                    NULL);
  g_signal_connect ((gpointer) clist_trig, "select_row",
                    G_CALLBACK (trigger_selection_made),
                    NULL);
  g_signal_connect_swapped ((gpointer) button17, "clicked",
                            G_CALLBACK (find_in_list),
                            GTK_OBJECT (clist_trig));
  g_signal_connect_swapped ((gpointer) button18, "clicked",
                            G_CALLBACK (trigger_button_add),
                            GTK_OBJECT (clist_trig));
  g_signal_connect_swapped ((gpointer) button19, "clicked",
                            G_CALLBACK (trigger_button_delete),
                            GTK_OBJECT (clist_trig));
  g_signal_connect_swapped ((gpointer) button20, "clicked",
                            G_CALLBACK (save_triggers),
                            GTK_OBJECT (clist_trig));
  g_signal_connect ((gpointer) button21, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_triggers, window_triggers, "window_triggers");
  GLADE_HOOKUP_OBJECT (window_triggers, vbox18, "vbox18");
  GLADE_HOOKUP_OBJECT (window_triggers, scrolledwindow3, "scrolledwindow3");
  GLADE_HOOKUP_OBJECT (window_triggers, clist_trig, "clist_trig");
  GLADE_HOOKUP_OBJECT (window_triggers, label36, "label36");
  GLADE_HOOKUP_OBJECT (window_triggers, label37, "label37");
  GLADE_HOOKUP_OBJECT (window_triggers, label38, "label38");
  GLADE_HOOKUP_OBJECT (window_triggers, label39, "label39");
  GLADE_HOOKUP_OBJECT (window_triggers, table5, "table5");
  GLADE_HOOKUP_OBJECT (window_triggers, label41, "label41");
  GLADE_HOOKUP_OBJECT (window_triggers, button17, "button17");
  GLADE_HOOKUP_OBJECT (window_triggers, image17, "image17");
  GLADE_HOOKUP_OBJECT (window_triggers, entry_trig, "entry_trig");
  GLADE_HOOKUP_OBJECT (window_triggers, entry_cmd, "entry_cmd");
  GLADE_HOOKUP_OBJECT (window_triggers, label40, "label40");
  GLADE_HOOKUP_OBJECT (window_triggers, comboboxentry_class, "comboboxentry_class");
  GLADE_HOOKUP_OBJECT (window_triggers, label42, "label42");
  GLADE_HOOKUP_OBJECT (window_triggers, hseparator6, "hseparator6");
  GLADE_HOOKUP_OBJECT (window_triggers, hbuttonbox7, "hbuttonbox7");
  GLADE_HOOKUP_OBJECT (window_triggers, button18, "button18");
  GLADE_HOOKUP_OBJECT (window_triggers, button19, "button19");
  GLADE_HOOKUP_OBJECT (window_triggers, button20, "button20");
  GLADE_HOOKUP_OBJECT (window_triggers, button21, "button21");

  return window_triggers;
}

GtkWidget*
create_window_classes (void)
{
  GtkWidget *window_classes;
  GtkWidget *vbox19;
  GtkWidget *scrolledwindow4;
  GtkWidget *clist_class;
  GtkWidget *label43;
  GtkWidget *label44;
  GtkWidget *label45;
  GtkWidget *hbuttonbox8;
  GtkWidget *button22;
  GtkWidget *button23;

  window_classes = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_widget_set_size_request (window_classes, 300, 350);
  gtk_window_set_title (GTK_WINDOW (window_classes), "Trigger Classes");

  vbox19 = gtk_vbox_new (FALSE, 5);
  gtk_widget_show (vbox19);
  gtk_container_add (GTK_CONTAINER (window_classes), vbox19);
  gtk_container_set_border_width (GTK_CONTAINER (vbox19), 4);

  scrolledwindow4 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow4);
  gtk_box_pack_start (GTK_BOX (vbox19), scrolledwindow4, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow4), GTK_POLICY_AUTOMATIC, GTK_POLICY_ALWAYS);
  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow4), GTK_SHADOW_IN);

  clist_class = gtk_clist_new (2);
  gtk_widget_show (clist_class);
  gtk_container_add (GTK_CONTAINER (scrolledwindow4), clist_class);
  gtk_clist_set_column_width (GTK_CLIST (clist_class), 0, 272);
  gtk_clist_set_column_width (GTK_CLIST (clist_class), 1, 57);
  gtk_clist_column_titles_show (GTK_CLIST (clist_class));

  label43 = gtk_label_new ("<b>Class</b>");
  gtk_widget_show (label43);
  gtk_clist_set_column_widget (GTK_CLIST (clist_class), 0, label43);
  gtk_label_set_use_markup (GTK_LABEL (label43), TRUE);

  label44 = gtk_label_new ("<b>State</b>");
  gtk_widget_show (label44);
  gtk_clist_set_column_widget (GTK_CLIST (clist_class), 1, label44);
  gtk_label_set_use_markup (GTK_LABEL (label44), TRUE);

  label45 = gtk_label_new ("<b>Click on a row to enable or\ndisable a trigger class.</b>");
  gtk_widget_show (label45);
  gtk_box_pack_start (GTK_BOX (vbox19), label45, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label45), TRUE);
  gtk_label_set_justify (GTK_LABEL (label45), GTK_JUSTIFY_CENTER);

  hbuttonbox8 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox8);
  gtk_box_pack_start (GTK_BOX (vbox19), hbuttonbox8, FALSE, FALSE, 0);

  button22 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button22);
  gtk_container_add (GTK_CONTAINER (hbuttonbox8), button22);
  GTK_WIDGET_SET_FLAGS (button22, GTK_CAN_DEFAULT);

  button23 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button23);
  gtk_container_add (GTK_CONTAINER (hbuttonbox8), button23);
  GTK_WIDGET_SET_FLAGS (button23, GTK_CAN_DEFAULT);

  g_signal_connect ((gpointer) window_classes, "destroy_event",
                    G_CALLBACK (close_window),
                    NULL);
  g_signal_connect ((gpointer) clist_class, "select_row",
                    G_CALLBACK (trigger_class_toggle),
                    NULL);
  g_signal_connect ((gpointer) button22, "clicked",
                    G_CALLBACK (save_triggerclass_state),
                    NULL);
  g_signal_connect ((gpointer) button23, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_classes, window_classes, "window_classes");
  GLADE_HOOKUP_OBJECT (window_classes, vbox19, "vbox19");
  GLADE_HOOKUP_OBJECT (window_classes, scrolledwindow4, "scrolledwindow4");
  GLADE_HOOKUP_OBJECT (window_classes, clist_class, "clist_class");
  GLADE_HOOKUP_OBJECT (window_classes, label43, "label43");
  GLADE_HOOKUP_OBJECT (window_classes, label44, "label44");
  GLADE_HOOKUP_OBJECT (window_classes, label45, "label45");
  GLADE_HOOKUP_OBJECT (window_classes, hbuttonbox8, "hbuttonbox8");
  GLADE_HOOKUP_OBJECT (window_classes, button22, "button22");
  GLADE_HOOKUP_OBJECT (window_classes, button23, "button23");

  return window_classes;
}

GtkWidget*
create_window_aliases (void)
{
  GtkWidget *window_aliases;
  GtkWidget *vbox20;
  GtkWidget *scrolledwindow5;
  GtkWidget *clist_alias;
  GtkWidget *label46;
  GtkWidget *label47;
  GtkWidget *table6;
  GtkWidget *button28;
  GtkWidget *image18;
  GtkWidget *label48;
  GtkWidget *label49;
  GtkWidget *entry_replace;
  GtkWidget *entry_alias;
  GtkWidget *hseparator7;
  GtkWidget *hbuttonbox9;
  GtkWidget *button24;
  GtkWidget *button25;
  GtkWidget *button26;
  GtkWidget *button27;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  window_aliases = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_widget_set_size_request (window_aliases, 480, 320);
  gtk_container_set_border_width (GTK_CONTAINER (window_aliases), 4);
  gtk_window_set_title (GTK_WINDOW (window_aliases), "Aliases");

  vbox20 = gtk_vbox_new (FALSE, 5);
  gtk_widget_show (vbox20);
  gtk_container_add (GTK_CONTAINER (window_aliases), vbox20);

  scrolledwindow5 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow5);
  gtk_box_pack_start (GTK_BOX (vbox20), scrolledwindow5, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow5), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow5), GTK_SHADOW_IN);

  clist_alias = gtk_clist_new (2);
  gtk_widget_show (clist_alias);
  gtk_container_add (GTK_CONTAINER (scrolledwindow5), clist_alias);
  gtk_clist_set_column_width (GTK_CLIST (clist_alias), 0, 90);
  gtk_clist_set_column_width (GTK_CLIST (clist_alias), 1, 80);
  gtk_clist_column_titles_show (GTK_CLIST (clist_alias));

  label46 = gtk_label_new ("<b>Alias</b>");
  gtk_widget_show (label46);
  gtk_clist_set_column_widget (GTK_CLIST (clist_alias), 0, label46);
  gtk_label_set_use_markup (GTK_LABEL (label46), TRUE);

  label47 = gtk_label_new ("<b>Replacement</b>");
  gtk_widget_show (label47);
  gtk_clist_set_column_widget (GTK_CLIST (clist_alias), 1, label47);
  gtk_label_set_use_markup (GTK_LABEL (label47), TRUE);

  table6 = gtk_table_new (2, 3, FALSE);
  gtk_widget_show (table6);
  gtk_box_pack_start (GTK_BOX (vbox20), table6, FALSE, FALSE, 0);
  gtk_table_set_row_spacings (GTK_TABLE (table6), 4);
  gtk_table_set_col_spacings (GTK_TABLE (table6), 4);

  button28 = gtk_button_new ();
  gtk_widget_show (button28);
  gtk_table_attach (GTK_TABLE (table6), button28, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, button28, "Find a specific word in alias shortcut or replacement.", NULL);

  image18 = gtk_image_new_from_stock ("gtk-find", GTK_ICON_SIZE_BUTTON);
  gtk_widget_show (image18);
  gtk_container_add (GTK_CONTAINER (button28), image18);

  label48 = gtk_label_new ("<b>Alias</b>");
  gtk_widget_show (label48);
  gtk_table_attach (GTK_TABLE (table6), label48, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_use_markup (GTK_LABEL (label48), TRUE);

  label49 = gtk_label_new ("<b>Replacement</b>");
  gtk_widget_show (label49);
  gtk_table_attach (GTK_TABLE (table6), label49, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_use_markup (GTK_LABEL (label49), TRUE);

  entry_replace = gtk_entry_new ();
  gtk_widget_show (entry_replace);
  gtk_table_attach (GTK_TABLE (table6), entry_replace, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_replace), 9679);

  entry_alias = gtk_entry_new ();
  gtk_widget_show (entry_alias);
  gtk_table_attach (GTK_TABLE (table6), entry_alias, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_alias), 9679);

  hseparator7 = gtk_hseparator_new ();
  gtk_widget_show (hseparator7);
  gtk_box_pack_start (GTK_BOX (vbox20), hseparator7, FALSE, FALSE, 0);

  hbuttonbox9 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox9);
  gtk_box_pack_start (GTK_BOX (vbox20), hbuttonbox9, FALSE, FALSE, 0);

  button24 = gtk_button_new_from_stock ("gtk-add");
  gtk_widget_show (button24);
  gtk_container_add (GTK_CONTAINER (hbuttonbox9), button24);
  GTK_WIDGET_SET_FLAGS (button24, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button24, "Add a new ALIAS or replace an existing one (only if the alias label already exists)", NULL);

  button25 = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (button25);
  gtk_container_add (GTK_CONTAINER (hbuttonbox9), button25);
  GTK_WIDGET_SET_FLAGS (button25, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button25, "Delete the selected ALIAS.", NULL);

  button26 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button26);
  gtk_container_add (GTK_CONTAINER (hbuttonbox9), button26);
  GTK_WIDGET_SET_FLAGS (button26, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button26, "Save your aliases to disk.", NULL);

  button27 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button27);
  gtk_container_add (GTK_CONTAINER (hbuttonbox9), button27);
  GTK_WIDGET_SET_FLAGS (button27, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button27, "Close the aliases window.", NULL);

  g_signal_connect ((gpointer) window_aliases, "destroy_event",
                    G_CALLBACK (close_window),
                    NULL);
  g_signal_connect ((gpointer) clist_alias, "select_row",
                    G_CALLBACK (alias_selection_made),
                    NULL);
  g_signal_connect_swapped ((gpointer) button28, "clicked",
                            G_CALLBACK (find_in_list),
                            GTK_OBJECT (clist_alias));
  g_signal_connect_swapped ((gpointer) button24, "clicked",
                            G_CALLBACK (alias_button_add),
                            GTK_OBJECT (clist_alias));
  g_signal_connect_swapped ((gpointer) button25, "clicked",
                            G_CALLBACK (alias_button_delete),
                            GTK_OBJECT (clist_alias));
  g_signal_connect_swapped ((gpointer) button26, "clicked",
                            G_CALLBACK (save_aliases),
                            GTK_OBJECT (clist_alias));
  g_signal_connect ((gpointer) button27, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_aliases, window_aliases, "window_aliases");
  GLADE_HOOKUP_OBJECT (window_aliases, vbox20, "vbox20");
  GLADE_HOOKUP_OBJECT (window_aliases, scrolledwindow5, "scrolledwindow5");
  GLADE_HOOKUP_OBJECT (window_aliases, clist_alias, "clist_alias");
  GLADE_HOOKUP_OBJECT (window_aliases, label46, "label46");
  GLADE_HOOKUP_OBJECT (window_aliases, label47, "label47");
  GLADE_HOOKUP_OBJECT (window_aliases, table6, "table6");
  GLADE_HOOKUP_OBJECT (window_aliases, button28, "button28");
  GLADE_HOOKUP_OBJECT (window_aliases, image18, "image18");
  GLADE_HOOKUP_OBJECT (window_aliases, label48, "label48");
  GLADE_HOOKUP_OBJECT (window_aliases, label49, "label49");
  GLADE_HOOKUP_OBJECT (window_aliases, entry_replace, "entry_replace");
  GLADE_HOOKUP_OBJECT (window_aliases, entry_alias, "entry_alias");
  GLADE_HOOKUP_OBJECT (window_aliases, hseparator7, "hseparator7");
  GLADE_HOOKUP_OBJECT (window_aliases, hbuttonbox9, "hbuttonbox9");
  GLADE_HOOKUP_OBJECT (window_aliases, button24, "button24");
  GLADE_HOOKUP_OBJECT (window_aliases, button25, "button25");
  GLADE_HOOKUP_OBJECT (window_aliases, button26, "button26");
  GLADE_HOOKUP_OBJECT (window_aliases, button27, "button27");
  GLADE_HOOKUP_OBJECT_NO_REF (window_aliases, tooltips, "tooltips");

  return window_aliases;
}

GtkWidget*
create_window_gags (void)
{
  GtkWidget *window_gags;
  GtkWidget *vbox21;
  GtkWidget *scrolledwindow6;
  GtkWidget *clist_gag;
  GtkWidget *label51;
  GtkWidget *label50;
  GtkWidget *entry_gag;
  GtkWidget *hseparator8;
  GtkWidget *hbuttonbox10;
  GtkWidget *button29;
  GtkWidget *button30;
  GtkWidget *button31;
  GtkWidget *button32;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  window_gags = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_widget_set_size_request (window_gags, 450, 300);
  gtk_container_set_border_width (GTK_CONTAINER (window_gags), 4);
  gtk_window_set_title (GTK_WINDOW (window_gags), "Gags");

  vbox21 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox21);
  gtk_container_add (GTK_CONTAINER (window_gags), vbox21);

  scrolledwindow6 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow6);
  gtk_box_pack_start (GTK_BOX (vbox21), scrolledwindow6, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_SHADOW_IN);

  clist_gag = gtk_clist_new (1);
  gtk_widget_show (clist_gag);
  gtk_container_add (GTK_CONTAINER (scrolledwindow6), clist_gag);
  gtk_clist_set_column_width (GTK_CLIST (clist_gag), 0, 80);
  gtk_clist_column_titles_show (GTK_CLIST (clist_gag));

  label51 = gtk_label_new ("<b>Text to gag</b>");
  gtk_widget_show (label51);
  gtk_clist_set_column_widget (GTK_CLIST (clist_gag), 0, label51);
  gtk_label_set_use_markup (GTK_LABEL (label51), TRUE);

  label50 = gtk_label_new ("<b>Insert the text to gag</b>\n(all the line containing the specified text will be gagged)");
  gtk_widget_show (label50);
  gtk_box_pack_start (GTK_BOX (vbox21), label50, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label50), TRUE);
  gtk_label_set_justify (GTK_LABEL (label50), GTK_JUSTIFY_CENTER);

  entry_gag = gtk_entry_new ();
  gtk_widget_show (entry_gag);
  gtk_box_pack_start (GTK_BOX (vbox21), entry_gag, FALSE, FALSE, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_gag), 9679);

  hseparator8 = gtk_hseparator_new ();
  gtk_widget_show (hseparator8);
  gtk_box_pack_start (GTK_BOX (vbox21), hseparator8, FALSE, FALSE, 0);

  hbuttonbox10 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox10);
  gtk_box_pack_start (GTK_BOX (vbox21), hbuttonbox10, FALSE, FALSE, 0);

  button29 = gtk_button_new_from_stock ("gtk-add");
  gtk_widget_show (button29);
  gtk_container_add (GTK_CONTAINER (hbuttonbox10), button29);
  GTK_WIDGET_SET_FLAGS (button29, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button29, "Add a new sentence to gag (all the line containing the specified text will be gagged).", NULL);

  button30 = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (button30);
  gtk_container_add (GTK_CONTAINER (hbuttonbox10), button30);
  GTK_WIDGET_SET_FLAGS (button30, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button30, "Delete a gag", NULL);

  button31 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button31);
  gtk_container_add (GTK_CONTAINER (hbuttonbox10), button31);
  GTK_WIDGET_SET_FLAGS (button31, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button31, "Save the defined gags to disk", NULL);

  button32 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button32);
  gtk_container_add (GTK_CONTAINER (hbuttonbox10), button32);
  GTK_WIDGET_SET_FLAGS (button32, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button32, "Close this window", NULL);

  g_signal_connect ((gpointer) window_gags, "destroy_event",
                    G_CALLBACK (close_window),
                    NULL);
  g_signal_connect ((gpointer) clist_gag, "select_row",
                    G_CALLBACK (gag_selection_made),
                    NULL);
  g_signal_connect_swapped ((gpointer) button29, "clicked",
                            G_CALLBACK (gag_button_add),
                            GTK_OBJECT (clist_gag));
  g_signal_connect_swapped ((gpointer) button30, "clicked",
                            G_CALLBACK (gag_button_delete),
                            GTK_OBJECT (clist_gag));
  g_signal_connect_swapped ((gpointer) button31, "clicked",
                            G_CALLBACK (save_gags),
                            GTK_OBJECT (clist_gag));
  g_signal_connect ((gpointer) button32, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_gags, window_gags, "window_gags");
  GLADE_HOOKUP_OBJECT (window_gags, vbox21, "vbox21");
  GLADE_HOOKUP_OBJECT (window_gags, scrolledwindow6, "scrolledwindow6");
  GLADE_HOOKUP_OBJECT (window_gags, clist_gag, "clist_gag");
  GLADE_HOOKUP_OBJECT (window_gags, label51, "label51");
  GLADE_HOOKUP_OBJECT (window_gags, label50, "label50");
  GLADE_HOOKUP_OBJECT (window_gags, entry_gag, "entry_gag");
  GLADE_HOOKUP_OBJECT (window_gags, hseparator8, "hseparator8");
  GLADE_HOOKUP_OBJECT (window_gags, hbuttonbox10, "hbuttonbox10");
  GLADE_HOOKUP_OBJECT (window_gags, button29, "button29");
  GLADE_HOOKUP_OBJECT (window_gags, button30, "button30");
  GLADE_HOOKUP_OBJECT (window_gags, button31, "button31");
  GLADE_HOOKUP_OBJECT (window_gags, button32, "button32");
  GLADE_HOOKUP_OBJECT_NO_REF (window_gags, tooltips, "tooltips");

  return window_gags;
}

GtkWidget*
create_window_complete (void)
{
  GtkWidget *window_complete;
  GtkWidget *vbox22;
  GtkWidget *scrolledwindow7;
  GtkWidget *clist_complete;
  GtkWidget *label53;
  GtkWidget *label54;
  GtkWidget *entry_text;
  GtkWidget *hseparator9;
  GtkWidget *hbuttonbox11;
  GtkWidget *button36;
  GtkWidget *button37;
  GtkWidget *button38;
  GtkWidget *button39;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  window_complete = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_widget_set_size_request (window_complete, 450, 300);
  gtk_window_set_title (GTK_WINDOW (window_complete), "Tab completion settings");

  vbox22 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox22);
  gtk_container_add (GTK_CONTAINER (window_complete), vbox22);

  scrolledwindow7 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolledwindow7);
  gtk_box_pack_start (GTK_BOX (vbox22), scrolledwindow7, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow7), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
  gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (scrolledwindow7), GTK_SHADOW_IN);

  clist_complete = gtk_clist_new (1);
  gtk_widget_show (clist_complete);
  gtk_container_add (GTK_CONTAINER (scrolledwindow7), clist_complete);
  gtk_clist_set_column_width (GTK_CLIST (clist_complete), 0, 80);
  gtk_clist_column_titles_show (GTK_CLIST (clist_complete));

  label53 = gtk_label_new ("<b>Word list</b>");
  gtk_widget_show (label53);
  gtk_clist_set_column_widget (GTK_CLIST (clist_complete), 0, label53);
  gtk_label_set_use_markup (GTK_LABEL (label53), TRUE);

  label54 = gtk_label_new ("<b>Insert a word to complete with TAB</b>");
  gtk_widget_show (label54);
  gtk_box_pack_start (GTK_BOX (vbox22), label54, FALSE, FALSE, 0);
  gtk_label_set_use_markup (GTK_LABEL (label54), TRUE);
  gtk_label_set_justify (GTK_LABEL (label54), GTK_JUSTIFY_CENTER);

  entry_text = gtk_entry_new ();
  gtk_widget_show (entry_text);
  gtk_box_pack_start (GTK_BOX (vbox22), entry_text, FALSE, FALSE, 0);
  gtk_entry_set_invisible_char (GTK_ENTRY (entry_text), 9679);

  hseparator9 = gtk_hseparator_new ();
  gtk_widget_show (hseparator9);
  gtk_box_pack_start (GTK_BOX (vbox22), hseparator9, FALSE, FALSE, 0);

  hbuttonbox11 = gtk_hbutton_box_new ();
  gtk_widget_show (hbuttonbox11);
  gtk_box_pack_start (GTK_BOX (vbox22), hbuttonbox11, FALSE, FALSE, 0);

  button36 = gtk_button_new_from_stock ("gtk-add");
  gtk_widget_show (button36);
  gtk_container_add (GTK_CONTAINER (hbuttonbox11), button36);
  GTK_WIDGET_SET_FLAGS (button36, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button36, "Add a new word to complete if you hit TAB while in input line.", NULL);

  button37 = gtk_button_new_from_stock ("gtk-delete");
  gtk_widget_show (button37);
  gtk_container_add (GTK_CONTAINER (hbuttonbox11), button37);
  GTK_WIDGET_SET_FLAGS (button37, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button37, "Delete a tab completion entry", NULL);

  button38 = gtk_button_new_from_stock ("gtk-save");
  gtk_widget_show (button38);
  gtk_container_add (GTK_CONTAINER (hbuttonbox11), button38);
  GTK_WIDGET_SET_FLAGS (button38, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button38, "Save the defined tab completions to disk", NULL);

  button39 = gtk_button_new_from_stock ("gtk-close");
  gtk_widget_show (button39);
  gtk_container_add (GTK_CONTAINER (hbuttonbox11), button39);
  GTK_WIDGET_SET_FLAGS (button39, GTK_CAN_DEFAULT);
  gtk_tooltips_set_tip (tooltips, button39, "Close this window", NULL);

  g_signal_connect ((gpointer) window_complete, "destroy_event",
                    G_CALLBACK (close_window),
                    NULL);
  g_signal_connect ((gpointer) clist_complete, "select_row",
                    G_CALLBACK (complete_selection_made),
                    NULL);
  g_signal_connect_swapped ((gpointer) button36, "clicked",
                            G_CALLBACK (complete_button_add),
                            GTK_OBJECT (clist_complete));
  g_signal_connect_swapped ((gpointer) button37, "clicked",
                            G_CALLBACK (complete_button_delete),
                            GTK_OBJECT (clist_complete));
  g_signal_connect_swapped ((gpointer) button38, "clicked",
                            G_CALLBACK (save_complete),
                            GTK_OBJECT (clist_complete));
  g_signal_connect ((gpointer) button39, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_complete, window_complete, "window_complete");
  GLADE_HOOKUP_OBJECT (window_complete, vbox22, "vbox22");
  GLADE_HOOKUP_OBJECT (window_complete, scrolledwindow7, "scrolledwindow7");
  GLADE_HOOKUP_OBJECT (window_complete, clist_complete, "clist_complete");
  GLADE_HOOKUP_OBJECT (window_complete, label53, "label53");
  GLADE_HOOKUP_OBJECT (window_complete, label54, "label54");
  GLADE_HOOKUP_OBJECT (window_complete, entry_text, "entry_text");
  GLADE_HOOKUP_OBJECT (window_complete, hseparator9, "hseparator9");
  GLADE_HOOKUP_OBJECT (window_complete, hbuttonbox11, "hbuttonbox11");
  GLADE_HOOKUP_OBJECT (window_complete, button36, "button36");
  GLADE_HOOKUP_OBJECT (window_complete, button37, "button37");
  GLADE_HOOKUP_OBJECT (window_complete, button38, "button38");
  GLADE_HOOKUP_OBJECT (window_complete, button39, "button39");
  GLADE_HOOKUP_OBJECT_NO_REF (window_complete, tooltips, "tooltips");

  return window_complete;
}

GtkWidget*
create_window_about (void)
{
  GtkWidget *window_about;
  GtkWidget *vbox23;
  GtkWidget *frame17;
  GtkWidget *label_main;
  GtkWidget *label55;
  GtkWidget *hseparator10;
  GtkWidget *button40;

  window_about = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_container_set_border_width (GTK_CONTAINER (window_about), 4);
  gtk_window_set_title (GTK_WINDOW (window_about), "window1");
  gtk_window_set_position (GTK_WINDOW (window_about), GTK_WIN_POS_CENTER);

  vbox23 = gtk_vbox_new (FALSE, 4);
  gtk_widget_show (vbox23);
  gtk_container_add (GTK_CONTAINER (window_about), vbox23);

  frame17 = gtk_frame_new (NULL);
  gtk_widget_show (frame17);
  gtk_box_pack_start (GTK_BOX (vbox23), frame17, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame17), 4);
  gtk_frame_set_label_align (GTK_FRAME (frame17), 0.5, 0.5);

  label_main = gtk_label_new ("<i>Author</i>\n<b><big>Gabriele Greco</big></b>\n(gabrielegreco@gmail.com)\n\n<i>ANSI parsing, GTK2 lua bindings and fixes</i>\n<b>Ian Kelly</b>\n\n<i>SClient authors</i>\n<b>P.E. Segolsson, Fredrik Andersson</b>\n\n<i>TnTin++ authors</i>\n<b>Bill Reiss, David A. Wagner, Rob Ellsworth,\nJeremy C. Jack, Davin Chan</b>\n  \n<i>WWW &amp; Online docs</i>\n<span foreground=\"blue\"><big><b>http://ggmud.sourceforge.net</b></big></span>\n\nGGMud uses <b>GTK+ 2.x</b> for the GUI, \n<b>LUA 5.x</b> as scripting language \nand <b>zlib 1.2</b> for MCCP compression.");
  gtk_widget_show (label_main);
  gtk_container_add (GTK_CONTAINER (frame17), label_main);
  gtk_label_set_use_markup (GTK_LABEL (label_main), TRUE);
  gtk_label_set_justify (GTK_LABEL (label_main), GTK_JUSTIFY_CENTER);
  gtk_misc_set_padding (GTK_MISC (label_main), 4, 12);

  label55 = gtk_label_new ("<b>The GGMud team</b>");
  gtk_widget_show (label55);
  gtk_frame_set_label_widget (GTK_FRAME (frame17), label55);
  gtk_label_set_use_markup (GTK_LABEL (label55), TRUE);
  gtk_misc_set_padding (GTK_MISC (label55), 8, 0);

  hseparator10 = gtk_hseparator_new ();
  gtk_widget_show (hseparator10);
  gtk_box_pack_start (GTK_BOX (vbox23), hseparator10, FALSE, FALSE, 0);

  button40 = gtk_button_new_from_stock ("gtk-ok");
  gtk_widget_show (button40);
  gtk_box_pack_start (GTK_BOX (vbox23), button40, FALSE, FALSE, 0);

  g_signal_connect ((gpointer) window_about, "destroy_event",
                    G_CALLBACK (close_window),
                    NULL);
  g_signal_connect ((gpointer) button40, "clicked",
                    G_CALLBACK (close_a_gui_window),
                    NULL);

  /* Store pointers to all widgets, for use by lookup_widget(). */
  GLADE_HOOKUP_OBJECT_NO_REF (window_about, window_about, "window_about");
  GLADE_HOOKUP_OBJECT (window_about, vbox23, "vbox23");
  GLADE_HOOKUP_OBJECT (window_about, frame17, "frame17");
  GLADE_HOOKUP_OBJECT (window_about, label_main, "label_main");
  GLADE_HOOKUP_OBJECT (window_about, label55, "label55");
  GLADE_HOOKUP_OBJECT (window_about, hseparator10, "hseparator10");
  GLADE_HOOKUP_OBJECT (window_about, button40, "button40");

  return window_about;
}

